!function(t){function r(a){if(n[a])return n[a].exports;var e=n[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var n={};r.m=t,r.c=n,r.i=function(t){return t},r.d=function(t,n,a){r.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:a})},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},r.p="",r(r.s=49)}([function(t,r,n){"use strict";function a(t){r.ARRAY_TYPE=i=t}function e(t){return t*s}function o(t,r){return Math.abs(t-r)<=u*Math.max(1,Math.abs(t),Math.abs(r))}Object.defineProperty(r,"__esModule",{value:!0}),r.setMatrixArrayType=a,r.toRadian=e,r.equals=o;var u=r.EPSILON=1e-6,i=r.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,s=(r.RANDOM=Math.random,Math.PI/180)},function(t,r,n){"use strict";function a(t){r.ARRAY_TYPE=i=t}function e(t){return t*s}function o(t,r){return Math.abs(t-r)<=u*Math.max(1,Math.abs(t),Math.abs(r))}Object.defineProperty(r,"__esModule",{value:!0}),r.setMatrixArrayType=a,r.toRadian=e,r.equals=o;var u=r.EPSILON=1e-6,i=r.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,s=(r.RANDOM=Math.random,Math.PI/180)},function(t,r,n){"use strict";function a(){var t=o(),r={};return Object.create({draw:function(n){var a=t.matrix,e=function(t,r){var e=n[t],o=e.callback,u=e.attributeLocations,i=e.instances;o&&o({matrix:Array.prototype.slice.call(a)}),r&&r.draw(u,i)};Object.keys(n).forEach(function(t){"all"==t?Object.keys(r).forEach(function(t){e("all",r[t])}):e(t,r[t])})},addMesh:function(t,n){r[t]=n}},{transformation:{get:function(){return t}},meshes:{get:function(){return r}}})}var e=n(4),o=e.Transformation;t.exports={Model:a}},function(t,r,n){"use strict";function a(t){var r=(t.createVertexArray||function(){})(),n=[],a=t.TRIANGLES;return Object.create({draw:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments[1],u=n.length;u&&(r&&t.bindVertexArray(r),n[0].setVertexAttribPointer(e),n[u-1].draw({mode:a,instances:o}),r&&t.bindVertexArray(null))},update:function(a){r&&t.bindVertexArray(r),a(n),r&&t.bindVertexArray(null)},delete:function(){r&&t.deleteVertexArray(r)}},{mode:{set:function(t){a=t},get:function(){return a}}})}t.exports={Mesh:a}},function(t,r,n){"use strict";function a(t){if(Array.isArray(t)){for(var r=0,n=Array(t.length);r<t.length;r++)n[r]=t[r];return n}return Array.from(t)}function e(){var t=function(){return s.fromEuler(s.create(),e[0],e[1],e[2])},r=u.create(),n=u.fromValues(1,1,1),e=u.create();return Object.create(null,{matrix:{get:function(){var a=i.create();return i.fromRotationTranslationScale(a,t(),r,n),a}},translation:{set:function(t){r=u.fromValues.apply(u,a(t))},get:function(){return r}},scale:{set:function(t){n=u.fromValues.apply(u,a(t))},get:function(){return n}},rotation:{set:function(t){e=u.fromValues.apply(u,a(t))},get:function(){return e}}})}var o=n(5),u=(o.glMatrix,o.vec3),i=o.mat4,s=o.quat;t.exports={Transformation:e}},function(t,r,n){"use strict";function a(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.default=t,r}Object.defineProperty(r,"__esModule",{value:!0}),r.vec4=r.vec3=r.vec2=r.quat2=r.quat=r.mat4=r.mat3=r.mat2d=r.mat2=r.glMatrix=void 0;var e=n(0),o=a(e),u=n(27),i=a(u),s=n(28),c=a(s),f=n(7),h=a(f),l=n(8),M=a(l),v=n(9),d=a(v),m=n(29),E=a(m),b=n(30),A=a(b),p=n(10),R=a(p),P=n(11),T=a(P);r.glMatrix=o,r.mat2=i,r.mat2d=c,r.mat3=h,r.mat4=M,r.quat=d,r.quat2=E,r.vec2=A,r.vec3=R,r.vec4=T},function(t,r,n){"use strict";var a=n(3),e=a.Mesh,o=n(2),u=o.Model,i=function(t){var r=t.context,n=t.resX,a=t.resY,o=r.gl,i=r.Buffer,c=function(){h.update(function(t){for(var r=t.length;r>0;r--)t[r].delete(),t.pop();var e=s(n,a);for(var u in e){var c=e[u],f=i("vertices"==u?o.ARRAY_BUFFER:o.ELEMENT_ARRAY_BUFFER);f.data({usage:o.STATIC_DRAW,size:"vertices"==u?c.length/8:c.length,offset:0,data:c}),t.push(f)}var h=t[0];h.addAttribute("position",{size:3,type:o.FLOAT,normalized:!1,stride:8*Float32Array.BYTES_PER_ELEMENT,offset:0}),h.addAttribute("normal",{size:3,type:o.FLOAT,normalized:!1,stride:8*Float32Array.BYTES_PER_ELEMENT,offset:3*Float32Array.BYTES_PER_ELEMENT}),h.addAttribute("texture",{size:2,type:o.FLOAT,normalized:!1,stride:8*Float32Array.BYTES_PER_ELEMENT,offset:6*Float32Array.BYTES_PER_ELEMENT})})},f=u(),h=e(o);return h.mode=o.TRIANGLES,c(),f.addMesh("plane",h),f},s=function(t,r){for(var n=[],a=[],e=0;e<t*r;e++){var o=e%t,u=Math.floor(e/r),i=2*(o/(t-1)-.5),s=2*(u/(r-1)-.5);n=n.concat([i,s,0,0,0,1,o/(t-1),u/(r-1)]),o!=t-1&&u!=r-1&&(a=a.concat([t*u+o,t*u+o+t,t*u+o+t+1,t*u+o,t*u+o+t+1,t*u+o+1]))}return{vertices:new Float32Array(n),indices:new Uint16Array(a)}};t.exports={Plane:i,PlaneBuffer:s}},function(t,r,n){"use strict";function a(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.default=t,r}function e(){var t=new q.ARRAY_TYPE(9);return q.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function o(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[4],t[4]=r[5],t[5]=r[6],t[6]=r[8],t[7]=r[9],t[8]=r[10],t}function u(t){var r=new q.ARRAY_TYPE(9);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r}function i(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t}function s(t,r,n,a,e,o,u,i,s){var c=new q.ARRAY_TYPE(9);return c[0]=t,c[1]=r,c[2]=n,c[3]=a,c[4]=e,c[5]=o,c[6]=u,c[7]=i,c[8]=s,c}function c(t,r,n,a,e,o,u,i,s,c){return t[0]=r,t[1]=n,t[2]=a,t[3]=e,t[4]=o,t[5]=u,t[6]=i,t[7]=s,t[8]=c,t}function f(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function h(t,r){if(t===r){var n=r[1],a=r[2],e=r[5];t[1]=r[3],t[2]=r[6],t[3]=n,t[5]=r[7],t[6]=a,t[7]=e}else t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8];return t}function l(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],i=r[5],s=r[6],c=r[7],f=r[8],h=f*u-i*c,l=-f*o+i*s,M=c*o-u*s,v=n*h+a*l+e*M;return v?(v=1/v,t[0]=h*v,t[1]=(-f*a+e*c)*v,t[2]=(i*a-e*u)*v,t[3]=l*v,t[4]=(f*n-e*s)*v,t[5]=(-i*n+e*o)*v,t[6]=M*v,t[7]=(-c*n+a*s)*v,t[8]=(u*n-a*o)*v,t):null}function M(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],i=r[5],s=r[6],c=r[7],f=r[8];return t[0]=u*f-i*c,t[1]=e*c-a*f,t[2]=a*i-e*u,t[3]=i*s-o*f,t[4]=n*f-e*s,t[5]=e*o-n*i,t[6]=o*c-u*s,t[7]=a*s-n*c,t[8]=n*u-a*o,t}function v(t){var r=t[0],n=t[1],a=t[2],e=t[3],o=t[4],u=t[5],i=t[6],s=t[7],c=t[8];return r*(c*o-u*s)+n*(-c*e+u*i)+a*(s*e-o*i)}function d(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=r[4],s=r[5],c=r[6],f=r[7],h=r[8],l=n[0],M=n[1],v=n[2],d=n[3],m=n[4],E=n[5],b=n[6],A=n[7],p=n[8];return t[0]=l*a+M*u+v*c,t[1]=l*e+M*i+v*f,t[2]=l*o+M*s+v*h,t[3]=d*a+m*u+E*c,t[4]=d*e+m*i+E*f,t[5]=d*o+m*s+E*h,t[6]=b*a+A*u+p*c,t[7]=b*e+A*i+p*f,t[8]=b*o+A*s+p*h,t}function m(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=r[4],s=r[5],c=r[6],f=r[7],h=r[8],l=n[0],M=n[1];return t[0]=a,t[1]=e,t[2]=o,t[3]=u,t[4]=i,t[5]=s,t[6]=l*a+M*u+c,t[7]=l*e+M*i+f,t[8]=l*o+M*s+h,t}function E(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=r[4],s=r[5],c=r[6],f=r[7],h=r[8],l=Math.sin(n),M=Math.cos(n);return t[0]=M*a+l*u,t[1]=M*e+l*i,t[2]=M*o+l*s,t[3]=M*u-l*a,t[4]=M*i-l*e,t[5]=M*s-l*o,t[6]=c,t[7]=f,t[8]=h,t}function b(t,r,n){var a=n[0],e=n[1];return t[0]=a*r[0],t[1]=a*r[1],t[2]=a*r[2],t[3]=e*r[3],t[4]=e*r[4],t[5]=e*r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t}function A(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=r[0],t[7]=r[1],t[8]=1,t}function p(t,r){var n=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=n,t[2]=0,t[3]=-n,t[4]=a,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function R(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=0,t[4]=r[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function P(t,r){return t[0]=r[0],t[1]=r[1],t[2]=0,t[3]=r[2],t[4]=r[3],t[5]=0,t[6]=r[4],t[7]=r[5],t[8]=1,t}function T(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=n+n,i=a+a,s=e+e,c=n*u,f=a*u,h=a*i,l=e*u,M=e*i,v=e*s,d=o*u,m=o*i,E=o*s;return t[0]=1-h-v,t[3]=f-E,t[6]=l+m,t[1]=f+E,t[4]=1-c-v,t[7]=M-d,t[2]=l-m,t[5]=M+d,t[8]=1-c-h,t}function g(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],i=r[5],s=r[6],c=r[7],f=r[8],h=r[9],l=r[10],M=r[11],v=r[12],d=r[13],m=r[14],E=r[15],b=n*i-a*u,A=n*s-e*u,p=n*c-o*u,R=a*s-e*i,P=a*c-o*i,T=e*c-o*s,g=f*d-h*v,_=f*m-l*v,y=f*E-M*v,x=h*m-l*d,O=h*E-M*d,L=l*E-M*m,S=b*L-A*O+p*x+R*y-P*_+T*g;return S?(S=1/S,t[0]=(i*L-s*O+c*x)*S,t[1]=(s*y-u*L-c*_)*S,t[2]=(u*O-i*y+c*g)*S,t[3]=(e*O-a*L-o*x)*S,t[4]=(n*L-e*y+o*_)*S,t[5]=(a*y-n*O-o*g)*S,t[6]=(d*T-m*P+E*R)*S,t[7]=(m*p-v*T-E*A)*S,t[8]=(v*P-d*p+E*b)*S,t):null}function _(t,r,n){return t[0]=2/r,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function y(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function x(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))}function O(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t[4]=r[4]+n[4],t[5]=r[5]+n[5],t[6]=r[6]+n[6],t[7]=r[7]+n[7],t[8]=r[8]+n[8],t}function L(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t[4]=r[4]-n[4],t[5]=r[5]-n[5],t[6]=r[6]-n[6],t[7]=r[7]-n[7],t[8]=r[8]-n[8],t}function S(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*n,t[5]=r[5]*n,t[6]=r[6]*n,t[7]=r[7]*n,t[8]=r[8]*n,t}function N(t,r,n,a){return t[0]=r[0]+n[0]*a,t[1]=r[1]+n[1]*a,t[2]=r[2]+n[2]*a,t[3]=r[3]+n[3]*a,t[4]=r[4]+n[4]*a,t[5]=r[5]+n[5]*a,t[6]=r[6]+n[6]*a,t[7]=r[7]+n[7]*a,t[8]=r[8]+n[8]*a,t}function I(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]&&t[8]===r[8]}function Y(t,r){var n=t[0],a=t[1],e=t[2],o=t[3],u=t[4],i=t[5],s=t[6],c=t[7],f=t[8],h=r[0],l=r[1],M=r[2],v=r[3],d=r[4],m=r[5],E=r[6],b=r[7],A=r[8];return Math.abs(n-h)<=q.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(a-l)<=q.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(e-M)<=q.EPSILON*Math.max(1,Math.abs(e),Math.abs(M))&&Math.abs(o-v)<=q.EPSILON*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(u-d)<=q.EPSILON*Math.max(1,Math.abs(u),Math.abs(d))&&Math.abs(i-m)<=q.EPSILON*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(s-E)<=q.EPSILON*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(c-b)<=q.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(f-A)<=q.EPSILON*Math.max(1,Math.abs(f),Math.abs(A))}Object.defineProperty(r,"__esModule",{value:!0}),r.sub=r.mul=void 0,r.create=e,r.fromMat4=o,r.clone=u,r.copy=i,r.fromValues=s,r.set=c,r.identity=f,r.transpose=h,r.invert=l,r.adjoint=M,r.determinant=v,r.multiply=d,r.translate=m,r.rotate=E,r.scale=b,r.fromTranslation=A,r.fromRotation=p,r.fromScaling=R,r.fromMat2d=P,r.fromQuat=T,r.normalFromMat4=g,r.projection=_,r.str=y,r.frob=x,r.add=O,r.subtract=L,r.multiplyScalar=S,r.multiplyScalarAndAdd=N,r.exactEquals=I,r.equals=Y;var w=n(0),q=a(w);r.mul=d,r.sub=L},function(t,r,n){"use strict";function a(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.default=t,r}function e(){var t=new Z.ARRAY_TYPE(16);return Z.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function o(t){var r=new Z.ARRAY_TYPE(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}function u(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}function i(t,r,n,a,e,o,u,i,s,c,f,h,l,M,v,d){var m=new Z.ARRAY_TYPE(16);return m[0]=t,m[1]=r,m[2]=n,m[3]=a,m[4]=e,m[5]=o,m[6]=u,m[7]=i,m[8]=s,m[9]=c,m[10]=f,m[11]=h,m[12]=l,m[13]=M,m[14]=v,m[15]=d,m}function s(t,r,n,a,e,o,u,i,s,c,f,h,l,M,v,d,m){return t[0]=r,t[1]=n,t[2]=a,t[3]=e,t[4]=o,t[5]=u,t[6]=i,t[7]=s,t[8]=c,t[9]=f,t[10]=h,t[11]=l,t[12]=M,t[13]=v,t[14]=d,t[15]=m,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function f(t,r){if(t===r){var n=r[1],a=r[2],e=r[3],o=r[6],u=r[7],i=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=n,t[6]=r[9],t[7]=r[13],t[8]=a,t[9]=o,t[11]=r[14],t[12]=e,t[13]=u,t[14]=i}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t}function h(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],i=r[5],s=r[6],c=r[7],f=r[8],h=r[9],l=r[10],M=r[11],v=r[12],d=r[13],m=r[14],E=r[15],b=n*i-a*u,A=n*s-e*u,p=n*c-o*u,R=a*s-e*i,P=a*c-o*i,T=e*c-o*s,g=f*d-h*v,_=f*m-l*v,y=f*E-M*v,x=h*m-l*d,O=h*E-M*d,L=l*E-M*m,S=b*L-A*O+p*x+R*y-P*_+T*g;return S?(S=1/S,t[0]=(i*L-s*O+c*x)*S,t[1]=(e*O-a*L-o*x)*S,t[2]=(d*T-m*P+E*R)*S,t[3]=(l*P-h*T-M*R)*S,t[4]=(s*y-u*L-c*_)*S,t[5]=(n*L-e*y+o*_)*S,t[6]=(m*p-v*T-E*A)*S,t[7]=(f*T-l*p+M*A)*S,t[8]=(u*O-i*y+c*g)*S,t[9]=(a*y-n*O-o*g)*S,t[10]=(v*P-d*p+E*b)*S,t[11]=(h*p-f*P-M*b)*S,t[12]=(i*_-u*x-s*g)*S,t[13]=(n*x-a*_+e*g)*S,t[14]=(d*A-v*R-m*b)*S,t[15]=(f*R-h*A+l*b)*S,t):null}function l(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],i=r[5],s=r[6],c=r[7],f=r[8],h=r[9],l=r[10],M=r[11],v=r[12],d=r[13],m=r[14],E=r[15];return t[0]=i*(l*E-M*m)-h*(s*E-c*m)+d*(s*M-c*l),t[1]=-(a*(l*E-M*m)-h*(e*E-o*m)+d*(e*M-o*l)),t[2]=a*(s*E-c*m)-i*(e*E-o*m)+d*(e*c-o*s),t[3]=-(a*(s*M-c*l)-i*(e*M-o*l)+h*(e*c-o*s)),t[4]=-(u*(l*E-M*m)-f*(s*E-c*m)+v*(s*M-c*l)),t[5]=n*(l*E-M*m)-f*(e*E-o*m)+v*(e*M-o*l),t[6]=-(n*(s*E-c*m)-u*(e*E-o*m)+v*(e*c-o*s)),t[7]=n*(s*M-c*l)-u*(e*M-o*l)+f*(e*c-o*s),t[8]=u*(h*E-M*d)-f*(i*E-c*d)+v*(i*M-c*h),t[9]=-(n*(h*E-M*d)-f*(a*E-o*d)+v*(a*M-o*h)),t[10]=n*(i*E-c*d)-u*(a*E-o*d)+v*(a*c-o*i),t[11]=-(n*(i*M-c*h)-u*(a*M-o*h)+f*(a*c-o*i)),t[12]=-(u*(h*m-l*d)-f*(i*m-s*d)+v*(i*l-s*h)),t[13]=n*(h*m-l*d)-f*(a*m-e*d)+v*(a*l-e*h),t[14]=-(n*(i*m-s*d)-u*(a*m-e*d)+v*(a*s-e*i)),t[15]=n*(i*l-s*h)-u*(a*l-e*h)+f*(a*s-e*i),t}function M(t){var r=t[0],n=t[1],a=t[2],e=t[3],o=t[4],u=t[5],i=t[6],s=t[7],c=t[8],f=t[9],h=t[10],l=t[11],M=t[12],v=t[13],d=t[14],m=t[15];return(r*u-n*o)*(h*m-l*d)-(r*i-a*o)*(f*m-l*v)+(r*s-e*o)*(f*d-h*v)+(n*i-a*u)*(c*m-l*M)-(n*s-e*u)*(c*d-h*M)+(a*s-e*i)*(c*v-f*M)}function v(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=r[4],s=r[5],c=r[6],f=r[7],h=r[8],l=r[9],M=r[10],v=r[11],d=r[12],m=r[13],E=r[14],b=r[15],A=n[0],p=n[1],R=n[2],P=n[3];return t[0]=A*a+p*i+R*h+P*d,t[1]=A*e+p*s+R*l+P*m,t[2]=A*o+p*c+R*M+P*E,t[3]=A*u+p*f+R*v+P*b,A=n[4],p=n[5],R=n[6],P=n[7],t[4]=A*a+p*i+R*h+P*d,t[5]=A*e+p*s+R*l+P*m,t[6]=A*o+p*c+R*M+P*E,t[7]=A*u+p*f+R*v+P*b,A=n[8],p=n[9],R=n[10],P=n[11],t[8]=A*a+p*i+R*h+P*d,t[9]=A*e+p*s+R*l+P*m,t[10]=A*o+p*c+R*M+P*E,t[11]=A*u+p*f+R*v+P*b,A=n[12],p=n[13],R=n[14],P=n[15],t[12]=A*a+p*i+R*h+P*d,t[13]=A*e+p*s+R*l+P*m,t[14]=A*o+p*c+R*M+P*E,t[15]=A*u+p*f+R*v+P*b,t}function d(t,r,n){var a=n[0],e=n[1],o=n[2],u=void 0,i=void 0,s=void 0,c=void 0,f=void 0,h=void 0,l=void 0,M=void 0,v=void 0,d=void 0,m=void 0,E=void 0;return r===t?(t[12]=r[0]*a+r[4]*e+r[8]*o+r[12],t[13]=r[1]*a+r[5]*e+r[9]*o+r[13],t[14]=r[2]*a+r[6]*e+r[10]*o+r[14],t[15]=r[3]*a+r[7]*e+r[11]*o+r[15]):(u=r[0],i=r[1],s=r[2],c=r[3],f=r[4],h=r[5],l=r[6],M=r[7],v=r[8],d=r[9],m=r[10],E=r[11],t[0]=u,t[1]=i,t[2]=s,t[3]=c,t[4]=f,t[5]=h,t[6]=l,t[7]=M,t[8]=v,t[9]=d,t[10]=m,t[11]=E,t[12]=u*a+f*e+v*o+r[12],t[13]=i*a+h*e+d*o+r[13],t[14]=s*a+l*e+m*o+r[14],t[15]=c*a+M*e+E*o+r[15]),t}function m(t,r,n){var a=n[0],e=n[1],o=n[2];return t[0]=r[0]*a,t[1]=r[1]*a,t[2]=r[2]*a,t[3]=r[3]*a,t[4]=r[4]*e,t[5]=r[5]*e,t[6]=r[6]*e,t[7]=r[7]*e,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=r[11]*o,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}function E(t,r,n,a){var e=a[0],o=a[1],u=a[2],i=Math.sqrt(e*e+o*o+u*u),s=void 0,c=void 0,f=void 0,h=void 0,l=void 0,M=void 0,v=void 0,d=void 0,m=void 0,E=void 0,b=void 0,A=void 0,p=void 0,R=void 0,P=void 0,T=void 0,g=void 0,_=void 0,y=void 0,x=void 0,O=void 0,L=void 0,S=void 0,N=void 0;return i<Z.EPSILON?null:(i=1/i,e*=i,o*=i,u*=i,s=Math.sin(n),c=Math.cos(n),f=1-c,h=r[0],l=r[1],M=r[2],v=r[3],d=r[4],m=r[5],E=r[6],b=r[7],A=r[8],p=r[9],R=r[10],P=r[11],T=e*e*f+c,g=o*e*f+u*s,_=u*e*f-o*s,y=e*o*f-u*s,x=o*o*f+c,O=u*o*f+e*s,L=e*u*f+o*s,S=o*u*f-e*s,N=u*u*f+c,t[0]=h*T+d*g+A*_,t[1]=l*T+m*g+p*_,t[2]=M*T+E*g+R*_,t[3]=v*T+b*g+P*_,t[4]=h*y+d*x+A*O,t[5]=l*y+m*x+p*O,t[6]=M*y+E*x+R*O,t[7]=v*y+b*x+P*O,t[8]=h*L+d*S+A*N,t[9]=l*L+m*S+p*N,t[10]=M*L+E*S+R*N,t[11]=v*L+b*S+P*N,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)}function b(t,r,n){var a=Math.sin(n),e=Math.cos(n),o=r[4],u=r[5],i=r[6],s=r[7],c=r[8],f=r[9],h=r[10],l=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=o*e+c*a,t[5]=u*e+f*a,t[6]=i*e+h*a,t[7]=s*e+l*a,t[8]=c*e-o*a,t[9]=f*e-u*a,t[10]=h*e-i*a,t[11]=l*e-s*a,t}function A(t,r,n){var a=Math.sin(n),e=Math.cos(n),o=r[0],u=r[1],i=r[2],s=r[3],c=r[8],f=r[9],h=r[10],l=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=o*e-c*a,t[1]=u*e-f*a,t[2]=i*e-h*a,t[3]=s*e-l*a,t[8]=o*a+c*e,t[9]=u*a+f*e,t[10]=i*a+h*e,t[11]=s*a+l*e,t}function p(t,r,n){var a=Math.sin(n),e=Math.cos(n),o=r[0],u=r[1],i=r[2],s=r[3],c=r[4],f=r[5],h=r[6],l=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=o*e+c*a,t[1]=u*e+f*a,t[2]=i*e+h*a,t[3]=s*e+l*a,t[4]=c*e-o*a,t[5]=f*e-u*a,t[6]=h*e-i*a,t[7]=l*e-s*a,t}function R(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function P(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=r[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function T(t,r,n){var a=n[0],e=n[1],o=n[2],u=Math.sqrt(a*a+e*e+o*o),i=void 0,s=void 0,c=void 0;return u<Z.EPSILON?null:(u=1/u,a*=u,e*=u,o*=u,i=Math.sin(r),s=Math.cos(r),c=1-s,t[0]=a*a*c+s,t[1]=e*a*c+o*i,t[2]=o*a*c-e*i,t[3]=0,t[4]=a*e*c-o*i,t[5]=e*e*c+s,t[6]=o*e*c+a*i,t[7]=0,t[8]=a*o*c+e*i,t[9]=e*o*c-a*i,t[10]=o*o*c+s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function g(t,r){var n=Math.sin(r),a=Math.cos(r);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _(t,r){var n=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function y(t,r){var n=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function x(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=a+a,s=e+e,c=o+o,f=a*i,h=a*s,l=a*c,M=e*s,v=e*c,d=o*c,m=u*i,E=u*s,b=u*c;return t[0]=1-(M+d),t[1]=h+b,t[2]=l-E,t[3]=0,t[4]=h-b,t[5]=1-(f+d),t[6]=v+m,t[7]=0,t[8]=l+E,t[9]=v-m,t[10]=1-(f+M),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function O(t,r){var n=new Z.ARRAY_TYPE(3),a=-r[0],e=-r[1],o=-r[2],u=r[3],i=r[4],s=r[5],c=r[6],f=r[7],h=a*a+e*e+o*o+u*u;return h>0?(n[0]=2*(i*u+f*a+s*o-c*e)/h,n[1]=2*(s*u+f*e+c*a-i*o)/h,n[2]=2*(c*u+f*o+i*e-s*a)/h):(n[0]=2*(i*u+f*a+s*o-c*e),n[1]=2*(s*u+f*e+c*a-i*o),n[2]=2*(c*u+f*o+i*e-s*a)),x(t,r,n),t}function L(t,r){return t[0]=r[12],t[1]=r[13],t[2]=r[14],t}function S(t,r){var n=r[0],a=r[1],e=r[2],o=r[4],u=r[5],i=r[6],s=r[8],c=r[9],f=r[10];return t[0]=Math.sqrt(n*n+a*a+e*e),t[1]=Math.sqrt(o*o+u*u+i*i),t[2]=Math.sqrt(s*s+c*c+f*f),t}function N(t,r){var n=r[0]+r[5]+r[10],a=0;return n>0?(a=2*Math.sqrt(n+1),t[3]=.25*a,t[0]=(r[6]-r[9])/a,t[1]=(r[8]-r[2])/a,t[2]=(r[1]-r[4])/a):r[0]>r[5]&&r[0]>r[10]?(a=2*Math.sqrt(1+r[0]-r[5]-r[10]),t[3]=(r[6]-r[9])/a,t[0]=.25*a,t[1]=(r[1]+r[4])/a,t[2]=(r[8]+r[2])/a):r[5]>r[10]?(a=2*Math.sqrt(1+r[5]-r[0]-r[10]),t[3]=(r[8]-r[2])/a,t[0]=(r[1]+r[4])/a,t[1]=.25*a,t[2]=(r[6]+r[9])/a):(a=2*Math.sqrt(1+r[10]-r[0]-r[5]),t[3]=(r[1]-r[4])/a,t[0]=(r[8]+r[2])/a,t[1]=(r[6]+r[9])/a,t[2]=.25*a),t}function I(t,r,n,a){var e=r[0],o=r[1],u=r[2],i=r[3],s=e+e,c=o+o,f=u+u,h=e*s,l=e*c,M=e*f,v=o*c,d=o*f,m=u*f,E=i*s,b=i*c,A=i*f,p=a[0],R=a[1],P=a[2];return t[0]=(1-(v+m))*p,t[1]=(l+A)*p,t[2]=(M-b)*p,t[3]=0,t[4]=(l-A)*R,t[5]=(1-(h+m))*R,t[6]=(d+E)*R,t[7]=0,t[8]=(M+b)*P,t[9]=(d-E)*P,t[10]=(1-(h+v))*P,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Y(t,r,n,a,e){var o=r[0],u=r[1],i=r[2],s=r[3],c=o+o,f=u+u,h=i+i,l=o*c,M=o*f,v=o*h,d=u*f,m=u*h,E=i*h,b=s*c,A=s*f,p=s*h,R=a[0],P=a[1],T=a[2],g=e[0],_=e[1],y=e[2],x=(1-(d+E))*R,O=(M+p)*R,L=(v-A)*R,S=(M-p)*P,N=(1-(l+E))*P,I=(m+b)*P,Y=(v+A)*T,w=(m-b)*T,q=(1-(l+d))*T;return t[0]=x,t[1]=O,t[2]=L,t[3]=0,t[4]=S,t[5]=N,t[6]=I,t[7]=0,t[8]=Y,t[9]=w,t[10]=q,t[11]=0,t[12]=n[0]+g-(x*g+S*_+Y*y),t[13]=n[1]+_-(O*g+N*_+w*y),t[14]=n[2]+y-(L*g+I*_+q*y),t[15]=1,t}function w(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=n+n,i=a+a,s=e+e,c=n*u,f=a*u,h=a*i,l=e*u,M=e*i,v=e*s,d=o*u,m=o*i,E=o*s;return t[0]=1-h-v,t[1]=f+E,t[2]=l-m,t[3]=0,t[4]=f-E,t[5]=1-c-v,t[6]=M+d,t[7]=0,t[8]=l+m,t[9]=M-d,t[10]=1-c-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function q(t,r,n,a,e,o,u){var i=1/(n-r),s=1/(e-a),c=1/(o-u);return t[0]=2*o*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*s,t[6]=0,t[7]=0,t[8]=(n+r)*i,t[9]=(e+a)*s,t[10]=(u+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=u*o*2*c,t[15]=0,t}function F(t,r,n,a,e){var o=1/Math.tan(r/2),u=void 0;return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=e&&e!==1/0?(u=1/(a-e),t[10]=(e+a)*u,t[14]=2*e*a*u):(t[10]=-1,t[14]=-2*a),t}function D(t,r,n,a){var e=Math.tan(r.upDegrees*Math.PI/180),o=Math.tan(r.downDegrees*Math.PI/180),u=Math.tan(r.leftDegrees*Math.PI/180),i=Math.tan(r.rightDegrees*Math.PI/180),s=2/(u+i),c=2/(e+o);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(u-i)*s*.5,t[9]=(e-o)*c*.5,t[10]=a/(n-a),t[11]=-1,t[12]=0,t[13]=0,t[14]=a*n/(n-a),t[15]=0,t}function B(t,r,n,a,e,o,u){var i=1/(r-n),s=1/(a-e),c=1/(o-u);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(r+n)*i,t[13]=(e+a)*s,t[14]=(u+o)*c,t[15]=1,t}function j(t,r,n,a){var e=void 0,o=void 0,u=void 0,i=void 0,s=void 0,f=void 0,h=void 0,l=void 0,M=void 0,v=void 0,d=r[0],m=r[1],E=r[2],b=a[0],A=a[1],p=a[2],R=n[0],P=n[1],T=n[2];return Math.abs(d-R)<Z.EPSILON&&Math.abs(m-P)<Z.EPSILON&&Math.abs(E-T)<Z.EPSILON?c(t):(h=d-R,l=m-P,M=E-T,v=1/Math.sqrt(h*h+l*l+M*M),h*=v,l*=v,M*=v,e=A*M-p*l,o=p*h-b*M,u=b*l-A*h,v=Math.sqrt(e*e+o*o+u*u),v?(v=1/v,e*=v,o*=v,u*=v):(e=0,o=0,u=0),i=l*u-M*o,s=M*e-h*u,f=h*o-l*e,v=Math.sqrt(i*i+s*s+f*f),v?(v=1/v,i*=v,s*=v,f*=v):(i=0,s=0,f=0),t[0]=e,t[1]=i,t[2]=h,t[3]=0,t[4]=o,t[5]=s,t[6]=l,t[7]=0,t[8]=u,t[9]=f,t[10]=M,t[11]=0,t[12]=-(e*d+o*m+u*E),t[13]=-(i*d+s*m+f*E),t[14]=-(h*d+l*m+M*E),t[15]=1,t)}function z(t,r,n,a){var e=r[0],o=r[1],u=r[2],i=a[0],s=a[1],c=a[2],f=e-n[0],h=o-n[1],l=u-n[2],M=f*f+h*h+l*l;M>0&&(M=1/Math.sqrt(M),f*=M,h*=M,l*=M);var v=s*l-c*h,d=c*f-i*l,m=i*h-s*f;return M=v*v+d*d+m*m,M>0&&(M=1/Math.sqrt(M),v*=M,d*=M,m*=M),t[0]=v,t[1]=d,t[2]=m,t[3]=0,t[4]=h*m-l*d,t[5]=l*v-f*m,t[6]=f*d-h*v,t[7]=0,t[8]=f,t[9]=h,t[10]=l,t[11]=0,t[12]=e,t[13]=o,t[14]=u,t[15]=1,t}function C(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function U(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function V(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t[4]=r[4]+n[4],t[5]=r[5]+n[5],t[6]=r[6]+n[6],t[7]=r[7]+n[7],t[8]=r[8]+n[8],t[9]=r[9]+n[9],t[10]=r[10]+n[10],t[11]=r[11]+n[11],t[12]=r[12]+n[12],t[13]=r[13]+n[13],t[14]=r[14]+n[14],t[15]=r[15]+n[15],t}function G(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t[4]=r[4]-n[4],t[5]=r[5]-n[5],t[6]=r[6]-n[6],t[7]=r[7]-n[7],t[8]=r[8]-n[8],t[9]=r[9]-n[9],t[10]=r[10]-n[10],t[11]=r[11]-n[11],t[12]=r[12]-n[12],t[13]=r[13]-n[13],t[14]=r[14]-n[14],t[15]=r[15]-n[15],t}function X(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*n,t[5]=r[5]*n,t[6]=r[6]*n,t[7]=r[7]*n,t[8]=r[8]*n,t[9]=r[9]*n,t[10]=r[10]*n,t[11]=r[11]*n,t[12]=r[12]*n,t[13]=r[13]*n,t[14]=r[14]*n,t[15]=r[15]*n,t}function k(t,r,n,a){return t[0]=r[0]+n[0]*a,t[1]=r[1]+n[1]*a,t[2]=r[2]+n[2]*a,t[3]=r[3]+n[3]*a,t[4]=r[4]+n[4]*a,t[5]=r[5]+n[5]*a,t[6]=r[6]+n[6]*a,t[7]=r[7]+n[7]*a,t[8]=r[8]+n[8]*a,t[9]=r[9]+n[9]*a,t[10]=r[10]+n[10]*a,t[11]=r[11]+n[11]*a,t[12]=r[12]+n[12]*a,t[13]=r[13]+n[13]*a,t[14]=r[14]+n[14]*a,t[15]=r[15]+n[15]*a,t}function H(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]&&t[8]===r[8]&&t[9]===r[9]&&t[10]===r[10]&&t[11]===r[11]&&t[12]===r[12]&&t[13]===r[13]&&t[14]===r[14]&&t[15]===r[15]}function W(t,r){var n=t[0],a=t[1],e=t[2],o=t[3],u=t[4],i=t[5],s=t[6],c=t[7],f=t[8],h=t[9],l=t[10],M=t[11],v=t[12],d=t[13],m=t[14],E=t[15],b=r[0],A=r[1],p=r[2],R=r[3],P=r[4],T=r[5],g=r[6],_=r[7],y=r[8],x=r[9],O=r[10],L=r[11],S=r[12],N=r[13],I=r[14],Y=r[15];return Math.abs(n-b)<=Z.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(a-A)<=Z.EPSILON*Math.max(1,Math.abs(a),Math.abs(A))&&Math.abs(e-p)<=Z.EPSILON*Math.max(1,Math.abs(e),Math.abs(p))&&Math.abs(o-R)<=Z.EPSILON*Math.max(1,Math.abs(o),Math.abs(R))&&Math.abs(u-P)<=Z.EPSILON*Math.max(1,Math.abs(u),Math.abs(P))&&Math.abs(i-T)<=Z.EPSILON*Math.max(1,Math.abs(i),Math.abs(T))&&Math.abs(s-g)<=Z.EPSILON*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(c-_)<=Z.EPSILON*Math.max(1,Math.abs(c),Math.abs(_))&&Math.abs(f-y)<=Z.EPSILON*Math.max(1,Math.abs(f),Math.abs(y))&&Math.abs(h-x)<=Z.EPSILON*Math.max(1,Math.abs(h),Math.abs(x))&&Math.abs(l-O)<=Z.EPSILON*Math.max(1,Math.abs(l),Math.abs(O))&&Math.abs(M-L)<=Z.EPSILON*Math.max(1,Math.abs(M),Math.abs(L))&&Math.abs(v-S)<=Z.EPSILON*Math.max(1,Math.abs(v),Math.abs(S))&&Math.abs(d-N)<=Z.EPSILON*Math.max(1,Math.abs(d),Math.abs(N))&&Math.abs(m-I)<=Z.EPSILON*Math.max(1,Math.abs(m),Math.abs(I))&&Math.abs(E-Y)<=Z.EPSILON*Math.max(1,Math.abs(E),Math.abs(Y))}Object.defineProperty(r,"__esModule",{value:!0}),r.sub=r.mul=void 0,r.create=e,r.clone=o,r.copy=u,r.fromValues=i,r.set=s,r.identity=c,r.transpose=f,r.invert=h,r.adjoint=l,r.determinant=M,r.multiply=v,r.translate=d,r.scale=m,r.rotate=E,r.rotateX=b,r.rotateY=A,r.rotateZ=p,r.fromTranslation=R,r.fromScaling=P,r.fromRotation=T,r.fromXRotation=g,r.fromYRotation=_,r.fromZRotation=y,r.fromRotationTranslation=x,r.fromQuat2=O,r.getTranslation=L,r.getScaling=S,r.getRotation=N,r.fromRotationTranslationScale=I,r.fromRotationTranslationScaleOrigin=Y,r.fromQuat=w,r.frustum=q,r.perspective=F,r.perspectiveFromFieldOfView=D,r.ortho=B,r.lookAt=j,r.targetTo=z,r.str=C,r.frob=U,r.add=V,r.subtract=G,r.multiplyScalar=X,r.multiplyScalarAndAdd=k,r.exactEquals=H,r.equals=W;var Q=n(0),Z=a(Q);r.mul=v,r.sub=G},function(t,r,n){"use strict";function a(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.default=t,r}function e(){var t=new R.ARRAY_TYPE(4);return R.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function o(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function u(t,r,n){n*=.5;var a=Math.sin(n);return t[0]=a*r[0],t[1]=a*r[1],t[2]=a*r[2],t[3]=Math.cos(n),t}function i(t,r){var n=2*Math.acos(r[3]),a=Math.sin(n/2);return a>R.EPSILON?(t[0]=r[0]/a,t[1]=r[1]/a,t[2]=r[2]/a):(t[0]=1,t[1]=0,t[2]=0),n}function s(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=n[0],s=n[1],c=n[2],f=n[3];return t[0]=a*f+u*i+e*c-o*s,t[1]=e*f+u*s+o*i-a*c,t[2]=o*f+u*c+a*s-e*i,t[3]=u*f-a*i-e*s-o*c,t}function c(t,r,n){n*=.5;var a=r[0],e=r[1],o=r[2],u=r[3],i=Math.sin(n),s=Math.cos(n);return t[0]=a*s+u*i,t[1]=e*s+o*i,t[2]=o*s-e*i,t[3]=u*s-a*i,t}function f(t,r,n){n*=.5;var a=r[0],e=r[1],o=r[2],u=r[3],i=Math.sin(n),s=Math.cos(n);return t[0]=a*s-o*i,t[1]=e*s+u*i,t[2]=o*s+a*i,t[3]=u*s-e*i,t}function h(t,r,n){n*=.5;var a=r[0],e=r[1],o=r[2],u=r[3],i=Math.sin(n),s=Math.cos(n);return t[0]=a*s+e*i,t[1]=e*s-a*i,t[2]=o*s+u*i,t[3]=u*s-o*i,t}function l(t,r){var n=r[0],a=r[1],e=r[2];return t[0]=n,t[1]=a,t[2]=e,t[3]=Math.sqrt(Math.abs(1-n*n-a*a-e*e)),t}function M(t,r,n,a){var e=r[0],o=r[1],u=r[2],i=r[3],s=n[0],c=n[1],f=n[2],h=n[3],l=void 0,M=void 0,v=void 0,d=void 0,m=void 0;return M=e*s+o*c+u*f+i*h,M<0&&(M=-M,s=-s,c=-c,f=-f,h=-h),1-M>R.EPSILON?(l=Math.acos(M),v=Math.sin(l),d=Math.sin((1-a)*l)/v,m=Math.sin(a*l)/v):(d=1-a,m=a),t[0]=d*e+m*s,t[1]=d*o+m*c,t[2]=d*u+m*f,t[3]=d*i+m*h,t}function v(t){var r=R.RANDOM(),n=R.RANDOM(),a=R.RANDOM(),e=Math.sqrt(1-r),o=Math.sqrt(r);return t[0]=e*Math.sin(2*Math.PI*n),t[1]=e*Math.cos(2*Math.PI*n),t[2]=o*Math.sin(2*Math.PI*a),t[3]=o*Math.cos(2*Math.PI*a),t}function d(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=n*n+a*a+e*e+o*o,i=u?1/u:0;return t[0]=-n*i,t[1]=-a*i,t[2]=-e*i,t[3]=o*i,t}function m(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t}function E(t,r){var n=r[0]+r[4]+r[8],a=void 0;if(n>0)a=Math.sqrt(n+1),t[3]=.5*a,a=.5/a,t[0]=(r[5]-r[7])*a,t[1]=(r[6]-r[2])*a,t[2]=(r[1]-r[3])*a;else{var e=0;r[4]>r[0]&&(e=1),r[8]>r[3*e+e]&&(e=2);var o=(e+1)%3,u=(e+2)%3;a=Math.sqrt(r[3*e+e]-r[3*o+o]-r[3*u+u]+1),t[e]=.5*a,a=.5/a,t[3]=(r[3*o+u]-r[3*u+o])*a,t[o]=(r[3*o+e]+r[3*e+o])*a,t[u]=(r[3*u+e]+r[3*e+u])*a}return t}function b(t,r,n,a){var e=.5*Math.PI/180;r*=e,n*=e,a*=e;var o=Math.sin(r),u=Math.cos(r),i=Math.sin(n),s=Math.cos(n),c=Math.sin(a),f=Math.cos(a);return t[0]=o*s*f-u*i*c,t[1]=u*i*f+o*s*c,t[2]=u*s*c-o*i*f,t[3]=u*s*f+o*i*c,t}function A(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}Object.defineProperty(r,"__esModule",{value:!0}),r.setAxes=r.sqlerp=r.rotationTo=r.equals=r.exactEquals=r.normalize=r.sqrLen=r.squaredLength=r.len=r.length=r.lerp=r.dot=r.scale=r.mul=r.add=r.set=r.copy=r.fromValues=r.clone=void 0,r.create=e,r.identity=o,r.setAxisAngle=u,r.getAxisAngle=i,r.multiply=s,r.rotateX=c,r.rotateY=f,r.rotateZ=h,r.calculateW=l,r.slerp=M,r.random=v,r.invert=d,r.conjugate=m,r.fromMat3=E,r.fromEuler=b,r.str=A;var p=n(0),R=a(p),P=n(7),T=a(P),g=n(10),_=a(g),y=n(11),x=a(y),O=(r.clone=x.clone,r.fromValues=x.fromValues,r.copy=x.copy,r.set=x.set,r.add=x.add,r.mul=s,r.scale=x.scale,r.dot=x.dot,r.lerp=x.lerp,r.length=x.length),L=(r.len=O,r.squaredLength=x.squaredLength),S=(r.sqrLen=L,r.normalize=x.normalize);r.exactEquals=x.exactEquals,r.equals=x.equals,r.rotationTo=function(){var t=_.create(),r=_.fromValues(1,0,0),n=_.fromValues(0,1,0);return function(a,e,o){var i=_.dot(e,o);return i<-.999999?(_.cross(t,r,e),_.len(t)<1e-6&&_.cross(t,n,e),_.normalize(t,t),u(a,t,Math.PI),a):i>.999999?(a[0]=0,a[1]=0,a[2]=0,a[3]=1,a):(_.cross(t,e,o),a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=1+i,S(a,a))}}(),r.sqlerp=function(){var t=e(),r=e();return function(n,a,e,o,u,i){return M(t,a,u,i),M(r,e,o,i),M(n,t,r,2*i*(1-i)),n}}(),r.setAxes=function(){var t=T.create();return function(r,n,a,e){return t[0]=a[0],t[3]=a[1],t[6]=a[2],t[1]=e[0],t[4]=e[1],t[7]=e[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],S(r,E(r,t))}}()},function(t,r,n){"use strict";function a(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.default=t,r}function e(){var t=new G.ARRAY_TYPE(3);return G.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function o(t){var r=new G.ARRAY_TYPE(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}function u(t){var r=t[0],n=t[1],a=t[2];return Math.sqrt(r*r+n*n+a*a)}function i(t,r,n){var a=new G.ARRAY_TYPE(3);return a[0]=t,a[1]=r,a[2]=n,a}function s(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}function c(t,r,n,a){return t[0]=r,t[1]=n,t[2]=a,t}function f(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t}function h(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t}function l(t,r,n){return t[0]=r[0]*n[0],t[1]=r[1]*n[1],t[2]=r[2]*n[2],t}function M(t,r,n){return t[0]=r[0]/n[0],t[1]=r[1]/n[1],t[2]=r[2]/n[2],t}function v(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t}function d(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t}function m(t,r,n){return t[0]=Math.min(r[0],n[0]),t[1]=Math.min(r[1],n[1]),t[2]=Math.min(r[2],n[2]),t}function E(t,r,n){return t[0]=Math.max(r[0],n[0]),t[1]=Math.max(r[1],n[1]),t[2]=Math.max(r[2],n[2]),t}function b(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t}function A(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t}function p(t,r,n,a){return t[0]=r[0]+n[0]*a,t[1]=r[1]+n[1]*a,t[2]=r[2]+n[2]*a,t}function R(t,r){var n=r[0]-t[0],a=r[1]-t[1],e=r[2]-t[2];return Math.sqrt(n*n+a*a+e*e)}function P(t,r){var n=r[0]-t[0],a=r[1]-t[1],e=r[2]-t[2];return n*n+a*a+e*e}function T(t){var r=t[0],n=t[1],a=t[2];return r*r+n*n+a*a}function g(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}function _(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}function y(t,r){var n=r[0],a=r[1],e=r[2],o=n*n+a*a+e*e;return o>0&&(o=1/Math.sqrt(o),t[0]=r[0]*o,t[1]=r[1]*o,t[2]=r[2]*o),t}function x(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}function O(t,r,n){var a=r[0],e=r[1],o=r[2],u=n[0],i=n[1],s=n[2];return t[0]=e*s-o*i,t[1]=o*u-a*s,t[2]=a*i-e*u,t}function L(t,r,n,a){var e=r[0],o=r[1],u=r[2];return t[0]=e+a*(n[0]-e),t[1]=o+a*(n[1]-o),t[2]=u+a*(n[2]-u),t}function S(t,r,n,a,e,o){var u=o*o,i=u*(2*o-3)+1,s=u*(o-2)+o,c=u*(o-1),f=u*(3-2*o);return t[0]=r[0]*i+n[0]*s+a[0]*c+e[0]*f,t[1]=r[1]*i+n[1]*s+a[1]*c+e[1]*f,t[2]=r[2]*i+n[2]*s+a[2]*c+e[2]*f,t}function N(t,r,n,a,e,o){var u=1-o,i=u*u,s=o*o,c=i*u,f=3*o*i,h=3*s*u,l=s*o;return t[0]=r[0]*c+n[0]*f+a[0]*h+e[0]*l,t[1]=r[1]*c+n[1]*f+a[1]*h+e[1]*l,t[2]=r[2]*c+n[2]*f+a[2]*h+e[2]*l,t}function I(t,r){r=r||1;var n=2*G.RANDOM()*Math.PI,a=2*G.RANDOM()-1,e=Math.sqrt(1-a*a)*r;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t[2]=a*r,t}function Y(t,r,n){var a=r[0],e=r[1],o=r[2],u=n[3]*a+n[7]*e+n[11]*o+n[15];return u=u||1,t[0]=(n[0]*a+n[4]*e+n[8]*o+n[12])/u,t[1]=(n[1]*a+n[5]*e+n[9]*o+n[13])/u,t[2]=(n[2]*a+n[6]*e+n[10]*o+n[14])/u,t}function w(t,r,n){var a=r[0],e=r[1],o=r[2];return t[0]=a*n[0]+e*n[3]+o*n[6],t[1]=a*n[1]+e*n[4]+o*n[7],t[2]=a*n[2]+e*n[5]+o*n[8],t}function q(t,r,n){var a=n[0],e=n[1],o=n[2],u=n[3],i=r[0],s=r[1],c=r[2],f=e*c-o*s,h=o*i-a*c,l=a*s-e*i,M=e*l-o*h,v=o*f-a*l,d=a*h-e*f,m=2*u;return f*=m,h*=m,l*=m,M*=2,v*=2,d*=2,t[0]=i+f+M,t[1]=s+h+v,t[2]=c+l+d,t}function F(t,r,n,a){var e=[],o=[];return e[0]=r[0]-n[0],e[1]=r[1]-n[1],e[2]=r[2]-n[2],o[0]=e[0],o[1]=e[1]*Math.cos(a)-e[2]*Math.sin(a),o[2]=e[1]*Math.sin(a)+e[2]*Math.cos(a),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function D(t,r,n,a){var e=[],o=[];return e[0]=r[0]-n[0],e[1]=r[1]-n[1],e[2]=r[2]-n[2],o[0]=e[2]*Math.sin(a)+e[0]*Math.cos(a),o[1]=e[1],o[2]=e[2]*Math.cos(a)-e[0]*Math.sin(a),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function B(t,r,n,a){var e=[],o=[];return e[0]=r[0]-n[0],e[1]=r[1]-n[1],e[2]=r[2]-n[2],o[0]=e[0]*Math.cos(a)-e[1]*Math.sin(a),o[1]=e[0]*Math.sin(a)+e[1]*Math.cos(a),o[2]=e[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function j(t,r){var n=i(t[0],t[1],t[2]),a=i(r[0],r[1],r[2]);y(n,n),y(a,a);var e=x(n,a);return e>1?0:e<-1?Math.PI:Math.acos(e)}function z(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function C(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}function U(t,r){var n=t[0],a=t[1],e=t[2],o=r[0],u=r[1],i=r[2];return Math.abs(n-o)<=G.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(a-u)<=G.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(e-i)<=G.EPSILON*Math.max(1,Math.abs(e),Math.abs(i))}Object.defineProperty(r,"__esModule",{value:!0}),r.forEach=r.sqrLen=r.len=r.sqrDist=r.dist=r.div=r.mul=r.sub=void 0,r.create=e,r.clone=o,r.length=u,r.fromValues=i,r.copy=s,r.set=c,r.add=f,r.subtract=h,r.multiply=l,r.divide=M,r.ceil=v,r.floor=d,r.min=m,r.max=E,r.round=b,r.scale=A,r.scaleAndAdd=p,r.distance=R,r.squaredDistance=P,r.squaredLength=T,r.negate=g,r.inverse=_,r.normalize=y,r.dot=x,r.cross=O,r.lerp=L,r.hermite=S,r.bezier=N,r.random=I,r.transformMat4=Y,r.transformMat3=w,r.transformQuat=q,r.rotateX=F,r.rotateY=D,r.rotateZ=B,r.angle=j,r.str=z,r.exactEquals=C,r.equals=U;var V=n(0),G=a(V);r.sub=h,r.mul=l,r.div=M,r.dist=R,r.sqrDist=P,r.len=u,r.sqrLen=T,r.forEach=function(){var t=e();return function(r,n,a,e,o,u){var i=void 0,s=void 0;for(n||(n=3),a||(a=0),s=e?Math.min(e*n+a,r.length):r.length,i=a;i<s;i+=n)t[0]=r[i],t[1]=r[i+1],t[2]=r[i+2],o(t,t,u),r[i]=t[0],r[i+1]=t[1],r[i+2]=t[2];return r}}()},function(t,r,n){"use strict";function a(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.default=t,r}function e(){var t=new F.ARRAY_TYPE(4);return F.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function o(t){var r=new F.ARRAY_TYPE(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}function u(t,r,n,a){var e=new F.ARRAY_TYPE(4);return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e}function i(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}function s(t,r,n,a,e){return t[0]=r,t[1]=n,t[2]=a,t[3]=e,t}function c(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t}function f(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t}function h(t,r,n){return t[0]=r[0]*n[0],t[1]=r[1]*n[1],t[2]=r[2]*n[2],t[3]=r[3]*n[3],t}function l(t,r,n){return t[0]=r[0]/n[0],t[1]=r[1]/n[1],t[2]=r[2]/n[2],t[3]=r[3]/n[3],t}function M(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t[3]=Math.ceil(r[3]),t}function v(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t[3]=Math.floor(r[3]),t}function d(t,r,n){return t[0]=Math.min(r[0],n[0]),t[1]=Math.min(r[1],n[1]),t[2]=Math.min(r[2],n[2]),t[3]=Math.min(r[3],n[3]),t}function m(t,r,n){return t[0]=Math.max(r[0],n[0]),t[1]=Math.max(r[1],n[1]),t[2]=Math.max(r[2],n[2]),t[3]=Math.max(r[3],n[3]),t}function E(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t[3]=Math.round(r[3]),t}function b(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t}function A(t,r,n,a){return t[0]=r[0]+n[0]*a,t[1]=r[1]+n[1]*a,t[2]=r[2]+n[2]*a,t[3]=r[3]+n[3]*a,t}function p(t,r){var n=r[0]-t[0],a=r[1]-t[1],e=r[2]-t[2],o=r[3]-t[3];return Math.sqrt(n*n+a*a+e*e+o*o)}function R(t,r){var n=r[0]-t[0],a=r[1]-t[1],e=r[2]-t[2],o=r[3]-t[3];return n*n+a*a+e*e+o*o}function P(t){var r=t[0],n=t[1],a=t[2],e=t[3];return Math.sqrt(r*r+n*n+a*a+e*e)}function T(t){var r=t[0],n=t[1],a=t[2],e=t[3];return r*r+n*n+a*a+e*e}function g(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t}function _(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t}function y(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=n*n+a*a+e*e+o*o;return u>0&&(u=1/Math.sqrt(u),t[0]=n*u,t[1]=a*u,t[2]=e*u,t[3]=o*u),t}function x(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]}function O(t,r,n,a){var e=r[0],o=r[1],u=r[2],i=r[3];return t[0]=e+a*(n[0]-e),t[1]=o+a*(n[1]-o),t[2]=u+a*(n[2]-u),t[3]=i+a*(n[3]-i),t}function L(t,r){r=r||1;var n,a,e,o,u,i;do{n=2*F.RANDOM()-1,a=2*F.RANDOM()-1,u=n*n+a*a}while(u>=1);do{e=2*F.RANDOM()-1,o=2*F.RANDOM()-1,i=e*e+o*o}while(i>=1);var s=Math.sqrt((1-u)/i);return t[0]=r*n,t[1]=r*a,t[2]=r*e*s,t[3]=r*o*s,t}function S(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3];return t[0]=n[0]*a+n[4]*e+n[8]*o+n[12]*u,t[1]=n[1]*a+n[5]*e+n[9]*o+n[13]*u,t[2]=n[2]*a+n[6]*e+n[10]*o+n[14]*u,t[3]=n[3]*a+n[7]*e+n[11]*o+n[15]*u,t}function N(t,r,n){var a=r[0],e=r[1],o=r[2],u=n[0],i=n[1],s=n[2],c=n[3],f=c*a+i*o-s*e,h=c*e+s*a-u*o,l=c*o+u*e-i*a,M=-u*a-i*e-s*o;return t[0]=f*c+M*-u+h*-s-l*-i,t[1]=h*c+M*-i+l*-u-f*-s,t[2]=l*c+M*-s+f*-i-h*-u,t[3]=r[3],t}function I(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function Y(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]}function w(t,r){var n=t[0],a=t[1],e=t[2],o=t[3],u=r[0],i=r[1],s=r[2],c=r[3];return Math.abs(n-u)<=F.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-i)<=F.EPSILON*Math.max(1,Math.abs(a),Math.abs(i))&&Math.abs(e-s)<=F.EPSILON*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(o-c)<=F.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))}Object.defineProperty(r,"__esModule",{value:!0}),r.forEach=r.sqrLen=r.len=r.sqrDist=r.dist=r.div=r.mul=r.sub=void 0,r.create=e,r.clone=o,r.fromValues=u,r.copy=i,r.set=s,r.add=c,r.subtract=f,r.multiply=h,r.divide=l,r.ceil=M,r.floor=v,r.min=d,r.max=m,r.round=E,r.scale=b,r.scaleAndAdd=A,r.distance=p,r.squaredDistance=R,r.length=P,r.squaredLength=T,r.negate=g,r.inverse=_,r.normalize=y,r.dot=x,r.lerp=O,r.random=L,r.transformMat4=S,r.transformQuat=N,r.str=I,r.exactEquals=Y,r.equals=w;var q=n(0),F=a(q);r.sub=f,r.mul=h,r.div=l,r.dist=p,r.sqrDist=R,r.len=P,r.sqrLen=T,r.forEach=function(){var t=e();return function(r,n,a,e,o,u){var i=void 0,s=void 0;for(n||(n=4),a||(a=0),s=e?Math.min(e*n+a,r.length):r.length,i=a;i<s;i+=n)t[0]=r[i],t[1]=r[i+1],t[2]=r[i+2],t[3]=r[i+3],o(t,t,u),r[i]=t[0],r[i+1]=t[1],r[i+2]=t[2],r[i+3]=t[3];return r}}()},function(t,r,n){"use strict";function a(t,r,n){var a=t.createBuffer(),e=0,o={};return Object.create({draw:function(a){var o=a.mode,u=a.instances,i=void 0===u?0:u,s=a.first,c=void 0===s?0:s,f=a.count,h=void 0===f?e:f;switch(this.bind(),r){case t.ARRAY_BUFFER:i?n("drawArraysInstancedANGLE",o,c,h,i):t.drawArrays(o,c,h);break;case t.ELEMENT_ARRAY_BUFFER:i?n("drawElementsInstancedANGLE",o,h,t.UNSIGNED_SHORT,c,i):t.drawElements(o,h,t.UNSIGNED_SHORT,c)}},setVertexAttribPointer:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=function(r,a,e){var o=r.size,u=r.type,i=r.normalized,s=r.stride,c=r.offset,f=r.divisor,h=void 0===f?0:f;t.enableVertexAttribArray(a+e),t.vertexAttribPointer(a+e,o,u,i,s,c),n("vertexAttribDivisorANGLE",a+e,h)};this.bind(),Object.keys(r).forEach(function(t){(o[t]||[]).forEach(function(n,e){a(n,r[t],e)})})},bind:function(){t.bindBuffer(r,a)},delete:function(){for(var r=0;r<t.getParameter(t.MAX_VERTEX_ATTRIBS);r++)t.disableVertexAttribArray(r);t.deleteBuffer(a)},data:function(n){this.bind(),e=n.size,t.bufferData(r,n.data,n.usage,n.offset)},update:function(n){this.bind(),e=n.size||e,t.bufferSubData(r,n.offset,n.data)},addAttribute:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;o[t]||(o[t]=[]),o[t][n]=r}})}t.exports={Buffer:a}},function(t,r,n){"use strict";function a(t){var r=t.createFramebuffer(),n={};return Object.create({bind:function(){t.bindFramebuffer(t.FRAMEBUFFER,r)},delete:function(){t.deleteFramebuffer(r)},attach:function(r,a,e){switch(this.bind(),r){case t.TEXTURE_2D:t.framebufferTexture2D(t.FRAMEBUFFER,a,t.TEXTURE_2D,e.id,0);break;case t.RENDERBUFFER:t.framebufferRenderbuffer(t.FRAMEBUFFER,a,t.RENDERBUFFER,e.id)}return n[a]=e,!0},attachment:function(t){return n[t]}})}t.exports={Framebuffer:a}},function(t,r,n){"use strict";function a(t,r){var n=r.internalFormat,a=r.width,e=r.height,o=function(){t.bindRenderbuffer(t.RENDERBUFFER,u)},u=t.createRenderbuffer();return o(),t.renderbufferStorage(t.RENDERBUFFER,n,a,e),Object.create({bind:o,delete:function(){t.deleteRenderbuffer(u)}},{id:{get:function(){return u}}})}t.exports={Renderbuffer:a}},function(t,r,n){"use strict";function a(t,r,n){var a=t.createShader(r);return Object.create({compile:function(){if(t.compileShader(a),!t.getShaderParameter(a,t.COMPILE_STATUS))throw r+" "+t.getShaderInfoLog(a)},delete:function(){t.deleteShader(a)}},{source:{set:function(r){r="#version "+(""+100*Number(n)).slice(0,3)+"\n "+r,t.shaderSource(a,r)}},id:{get:function(){return a}}})}t.exports={Shader:a}},function(t,r,n){"use strict";function a(t,r){var n=t.createTexture();return Object.create({bind:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t.activeTexture(t.TEXTURE0+a),t.bindTexture(r,n)},createImage:function(n){this.bind(),["IMG","VIDEO"].indexOf((n.data||{}).nodeName)>-1?t.texImage2D(n.target||r,n.level||0,n.internalFormat,n.format,n.type,n.data):t.texImage2D(n.target||r,n.level||0,n.internalFormat,n.width,n.height,n.border||0,n.format,n.type,n.data);var a=n.parametersi,e=n.parametersf;a&&a.forEach(function(n){var a=n.name,e=n.value;t.texParameteri(r,a,e)}),e&&e.forEach(function(n){var a=n.name,e=n.value;t.texParameterf(r,a,e)})},delete:function(){t.deleteTexture(n)}},{id:{get:function(){return n}}})}t.exports={Texture:a}},function(t,r,n){"use strict";function a(t){if(Array.isArray(t)){for(var r=0,n=Array(t.length);r<t.length;r++)n[r]=t[r];return n}return Array.from(t)}function e(t,r,n){var e=t.gl,o=t.Framebuffer,u=t.Renderbuffer,i=(t.Texture,function(r,n){var a=null;switch(r){case e.TEXTURE_2D:a=t.Texture(r),a.createImage(n);break;case e.RENDERBUFFER:a=t.Renderbuffer(r)}return a}),s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,1];e.clearColor.apply(e,a(t)),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)},c=o(),f=[],h=u({internalFormat:e.DEPTH_COMPONENT16,width:r,height:n});return c.attach(e.RENDERBUFFER,e.DEPTH_ATTACHMENT,h),Object.create({add:function(t,a,e){var o=a.target;a.width=r,a.height=n,c.attach(o,t,i(o,a))&&f.push({attachment:t,drawCallback:e})},run:function(t){c.bind(),f.forEach(function(a){var o=a.attachment,u=a.drawCallback;u&&(e.viewport(0,0,r,n),o==e.DEPTH_ATTACHMENT&&(o=e.NONE),e.drawBuffers&&e.drawBuffers([].concat(o)),s(t),u({framebuffer:c}))})},resize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;r=t,n=a,h.delete(),h=u({internalFormat:e.DEPTH_COMPONENT16,width:r,height:n}),c.attach(e.RENDERBUFFER,e.DEPTH_ATTACHMENT,h)}},{framebuffer:{get:function(){return c}}})}t.exports={PassPipeline:e}},function(t,r,n){"use strict";function a(t){if(Array.isArray(t)){for(var r=0,n=Array(t.length);r<t.length;r++)n[r]=t[r];return n}return Array.from(t)}var e=n(3),o=e.Mesh,u=n(2),i=u.Model,s=n(20),c=s.math,f=n(4),h=(f.Transformation,function(t){var r=t.context,n=t.res,e=t.height,o=t.segments,u=void 0===o?1:o,s=(r.gl,r.Buffer,i()),c=[],f=[];e/=u;for(var h=0;h<u;h++){var d=v({origin:[0,0,h*e],radius:[1,1],segIndex:h,height:e,res:n});c.push.apply(c,a(d.vertices)),f.push.apply(f,a(d.indices))}s.addMesh("body",l({context:r,vertices:c,indices:f}));for(var m=0;m<2;m++)s.addMesh(m?"bottomCap":"topCap",M({context:r,origin:[0,0,m?0:u*e],radius:[1,1],facingTop:!m,res:n}));return s}),l=function(t){var r=t.context,n=t.vertices,a=t.indices,e=r.gl,u=r.Buffer,i=o(e);return i.mode=e.TRIANGLES,i.update(function(t){var r=u(e.ARRAY_BUFFER),o=u(e.ELEMENT_ARRAY_BUFFER);r.data({usage:e.STATIC_DRAW,offset:0,size:n.length/8,data:new Float32Array(n)}),o.data({usage:e.STATIC_DRAW,offset:0,size:a.length,data:new Uint16Array(a)}),r.addAttribute("position",{size:3,type:e.FLOAT,normalized:!1,stride:8*Float32Array.BYTES_PER_ELEMENT,offset:0}),r.addAttribute("normal",{size:3,type:e.FLOAT,normalized:!1,stride:8*Float32Array.BYTES_PER_ELEMENT,offset:3*Float32Array.BYTES_PER_ELEMENT}),r.addAttribute("texture",{size:2,type:e.FLOAT,normalized:!1,stride:8*Float32Array.BYTES_PER_ELEMENT,offset:5*Float32Array.BYTES_PER_ELEMENT}),t.push(r,o)}),i},M=function(t){var r=t.context,n=t.origin,e=t.radius,u=t.res,i=t.facingTop,s=void 0===i||i,f=r.gl,h=r.Buffer,l=o(f),M=c.circle(n,e,u,s),v=[];l.mode=f.TRIANGLE_FAN,M.unshift.apply(M,a(n)),M.push.apply(M,a(M.slice(3,6)));for(var d=0;d<M.length/3;d++){var m=M.slice(3*d,3*d+3);v.push.apply(v,a(m).concat([m[0],m[1],s?1:-1],[m[0]-.5,m[1]-.5]))}return l.update(function(t){var r=h(f.ARRAY_BUFFER);r.data({usage:f.STATIC_DRAW,offset:0,size:v.length/8,data:new Float32Array(v)}),r.addAttribute("position",{size:3,type:f.FLOAT,normalized:!1,stride:8*Float32Array.BYTES_PER_ELEMENT,offset:0}),r.addAttribute("normal",{size:3,type:f.FLOAT,normalized:!1,stride:8*Float32Array.BYTES_PER_ELEMENT,offset:3*Float32Array.BYTES_PER_ELEMENT}),r.addAttribute("texture",{size:2,type:f.FLOAT,normalized:!1,stride:8*Float32Array.BYTES_PER_ELEMENT,offset:5*Float32Array.BYTES_PER_ELEMENT}),t.push(r)}),l},v=function(t){for(var r=t.origin,n=t.radius,e=t.res,o=t.height,u=t.taper,i=void 0===u?1:u,s=t.segIndex,f=void 0===s?0:s,h=c.circle(r,n,e),l=h.length/3,M=[],v=[],d=[],m=l%2==1,E=0;E<l;E+=2){var b=3*E,A=E+2>=l,p=h.slice(b,b+3);A&&m&&(b=0);var R=h.slice(b+3,b+6),P=[p,R,[R[0]*i,R[1]*i,R[2]+o],[p[0]*i,p[1]*i,p[2]+o]];M.push.apply(M,a(P[0]).concat(a(P[0]),[E/l,1],a(P[1]),a(P[1]),[(E+1)/l,1],a(P[2]),a(P[2]),[(E+1)/l,0],a(P[3]),a(P[3]),[E/l,0])),b=E/2*4,b+=4*Math.ceil(l/2)*f,d.push([b,b+1,b+2,b+2,b+3,b])}for(var T=0;T<l;T++){var g=T%2==0,_=T==l-1;if(!g||_){if(!g||_){var y=(T-1)/2,x=_?v.slice(-6):d[y],O=_?d[0]:d[y+1];v.push(x[1],O[0],O[4],O[4],x[2],x[1])}}else v.push.apply(v,a(d[T/2]))}return{vertices:M,indices:v}};t.exports={Cylinder:h,Band:v,BodyMesh:l,CapMesh:M}},function(t,r,n){"use strict";var a=n(3),e=a.Mesh,o=n(2),u=o.Model,i=function(t){var r=t.context,n=t.resX,a=t.resY,o=r.gl,i=r.Buffer,c=function(){h.update(function(t){for(var r=t.length;r>0;r--)t[r].delete(),t.pop();var e=s({resX:n,resY:a});for(var u in e){var c=e[u],f=i("vertices"==u?o.ARRAY_BUFFER:o.ELEMENT_ARRAY_BUFFER);f.data({usage:o.STATIC_DRAW,size:"vertices"==u?c.length/8:c.length,offset:0,data:c}),t.push(f)}var h=t[0];h.addAttribute("position",{size:3,type:o.FLOAT,normalized:!1,stride:8*Float32Array.BYTES_PER_ELEMENT,offset:0}),h.addAttribute("normal",{size:3,type:o.FLOAT,normalized:!1,stride:8*Float32Array.BYTES_PER_ELEMENT,offset:3*Float32Array.BYTES_PER_ELEMENT}),h.addAttribute("texture",{size:2,type:o.FLOAT,normalized:!1,stride:8*Float32Array.BYTES_PER_ELEMENT,offset:6*Float32Array.BYTES_PER_ELEMENT})})},f=u(),h=e(o);return h.mode=o.TRIANGLES,c(),f.addMesh("body",h),f},s=function(t){for(var r=t.resX,n=t.resY,a=[],e=[],o=0,u=[],i=[],s=Math.PI,c=2*s,f=0;f<=n;f++){u=[];for(var h=f/n,l=0;l<=r;l++){var M=l/r,v=M*c,d=h*s,m=[-Math.cos(v)*Math.sin(d),Math.cos(d),Math.sin(v)*Math.sin(d)];a=a.concat([].concat(m,m,[M,h])),u.push(o++)}i=i.concat(u)}for(var E=0;E<=n;E++)for(var b=E*n,A=0;A<=r;A++){var p=void 0,R=void 0,P=void 0,T=void 0;p=i[b+A+1],R=i[b+A],P=i[b+n+A],T=i[b+n+A+1],0!==E&&e.push(p,R,T),e.push(R,P,T)}return{vertices:new Float32Array(a),indices:new Uint16Array(e)}};t.exports={Sphere:i,SphereBuffer:s}},function(t,r,n){"use strict";var a={plotOnCircle:function(t,r,n){return[t[0]+Math.cos(r)*n[0],t[1]+Math.sin(r)*n[1],t[2]]},circle:function(t,r,n){for(var e=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=[],u=0;u<n;u++){var i=u/n*(2*Math.PI);o=o.concat(a.plotOnCircle(t,e?i:2*Math.PI-i,r))}return o},clamp:function(t,r,n){return t<r?r:t>n?n:t},magnitude:function(t,r){return Math.sqrt(Math.pow(r[0]-t[0],2)+Math.pow(r[1]-t[1],2))},angle:function(t,r){return Math.atan2(r[1]-t[1],r[0]-t[0])}};t.exports={math:a}},function(t,r,n){"use strict";function a(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.default=t,r}function e(){var t=new q.ARRAY_TYPE(9);return q.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function o(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[4],t[4]=r[5],t[5]=r[6],t[6]=r[8],t[7]=r[9],t[8]=r[10],t}function u(t){var r=new q.ARRAY_TYPE(9);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r}function i(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t}function s(t,r,n,a,e,o,u,i,s){var c=new q.ARRAY_TYPE(9);return c[0]=t,c[1]=r,c[2]=n,c[3]=a,c[4]=e,c[5]=o,c[6]=u,c[7]=i,c[8]=s,c}function c(t,r,n,a,e,o,u,i,s,c){return t[0]=r,t[1]=n,t[2]=a,t[3]=e,t[4]=o,t[5]=u,t[6]=i,t[7]=s,t[8]=c,t}function f(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function h(t,r){if(t===r){var n=r[1],a=r[2],e=r[5];t[1]=r[3],t[2]=r[6],t[3]=n,t[5]=r[7],t[6]=a,t[7]=e}else t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8];return t}function l(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],i=r[5],s=r[6],c=r[7],f=r[8],h=f*u-i*c,l=-f*o+i*s,M=c*o-u*s,v=n*h+a*l+e*M;return v?(v=1/v,t[0]=h*v,t[1]=(-f*a+e*c)*v,t[2]=(i*a-e*u)*v,t[3]=l*v,t[4]=(f*n-e*s)*v,t[5]=(-i*n+e*o)*v,t[6]=M*v,t[7]=(-c*n+a*s)*v,t[8]=(u*n-a*o)*v,t):null}function M(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],i=r[5],s=r[6],c=r[7],f=r[8];return t[0]=u*f-i*c,t[1]=e*c-a*f,t[2]=a*i-e*u,t[3]=i*s-o*f,t[4]=n*f-e*s,t[5]=e*o-n*i,t[6]=o*c-u*s,t[7]=a*s-n*c,t[8]=n*u-a*o,t}function v(t){var r=t[0],n=t[1],a=t[2],e=t[3],o=t[4],u=t[5],i=t[6],s=t[7],c=t[8];return r*(c*o-u*s)+n*(-c*e+u*i)+a*(s*e-o*i)}function d(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=r[4],s=r[5],c=r[6],f=r[7],h=r[8],l=n[0],M=n[1],v=n[2],d=n[3],m=n[4],E=n[5],b=n[6],A=n[7],p=n[8];return t[0]=l*a+M*u+v*c,t[1]=l*e+M*i+v*f,t[2]=l*o+M*s+v*h,t[3]=d*a+m*u+E*c,t[4]=d*e+m*i+E*f,t[5]=d*o+m*s+E*h,t[6]=b*a+A*u+p*c,t[7]=b*e+A*i+p*f,t[8]=b*o+A*s+p*h,t}function m(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=r[4],s=r[5],c=r[6],f=r[7],h=r[8],l=n[0],M=n[1];return t[0]=a,t[1]=e,t[2]=o,t[3]=u,t[4]=i,t[5]=s,t[6]=l*a+M*u+c,t[7]=l*e+M*i+f,t[8]=l*o+M*s+h,t}function E(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=r[4],s=r[5],c=r[6],f=r[7],h=r[8],l=Math.sin(n),M=Math.cos(n);return t[0]=M*a+l*u,t[1]=M*e+l*i,t[2]=M*o+l*s,t[3]=M*u-l*a,t[4]=M*i-l*e,t[5]=M*s-l*o,t[6]=c,t[7]=f,t[8]=h,t}function b(t,r,n){var a=n[0],e=n[1];return t[0]=a*r[0],t[1]=a*r[1],t[2]=a*r[2],t[3]=e*r[3],t[4]=e*r[4],t[5]=e*r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t}function A(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=r[0],t[7]=r[1],t[8]=1,t}function p(t,r){var n=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=n,t[2]=0,t[3]=-n,t[4]=a,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function R(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=0,t[4]=r[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function P(t,r){return t[0]=r[0],t[1]=r[1],t[2]=0,t[3]=r[2],t[4]=r[3],t[5]=0,t[6]=r[4],t[7]=r[5],t[8]=1,t}function T(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=n+n,i=a+a,s=e+e,c=n*u,f=a*u,h=a*i,l=e*u,M=e*i,v=e*s,d=o*u,m=o*i,E=o*s;return t[0]=1-h-v,t[3]=f-E,t[6]=l+m,t[1]=f+E,t[4]=1-c-v,t[7]=M-d,t[2]=l-m,t[5]=M+d,t[8]=1-c-h,t}function g(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],i=r[5],s=r[6],c=r[7],f=r[8],h=r[9],l=r[10],M=r[11],v=r[12],d=r[13],m=r[14],E=r[15],b=n*i-a*u,A=n*s-e*u,p=n*c-o*u,R=a*s-e*i,P=a*c-o*i,T=e*c-o*s,g=f*d-h*v,_=f*m-l*v,y=f*E-M*v,x=h*m-l*d,O=h*E-M*d,L=l*E-M*m,S=b*L-A*O+p*x+R*y-P*_+T*g;return S?(S=1/S,t[0]=(i*L-s*O+c*x)*S,t[1]=(s*y-u*L-c*_)*S,t[2]=(u*O-i*y+c*g)*S,t[3]=(e*O-a*L-o*x)*S,t[4]=(n*L-e*y+o*_)*S,t[5]=(a*y-n*O-o*g)*S,t[6]=(d*T-m*P+E*R)*S,t[7]=(m*p-v*T-E*A)*S,t[8]=(v*P-d*p+E*b)*S,t):null}function _(t,r,n){return t[0]=2/r,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function y(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function x(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))}function O(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t[4]=r[4]+n[4],t[5]=r[5]+n[5],t[6]=r[6]+n[6],t[7]=r[7]+n[7],t[8]=r[8]+n[8],t}function L(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t[4]=r[4]-n[4],t[5]=r[5]-n[5],t[6]=r[6]-n[6],t[7]=r[7]-n[7],t[8]=r[8]-n[8],t}function S(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*n,t[5]=r[5]*n,t[6]=r[6]*n,t[7]=r[7]*n,t[8]=r[8]*n,t}function N(t,r,n,a){return t[0]=r[0]+n[0]*a,t[1]=r[1]+n[1]*a,t[2]=r[2]+n[2]*a,t[3]=r[3]+n[3]*a,t[4]=r[4]+n[4]*a,t[5]=r[5]+n[5]*a,t[6]=r[6]+n[6]*a,t[7]=r[7]+n[7]*a,t[8]=r[8]+n[8]*a,t}function I(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]&&t[8]===r[8]}function Y(t,r){var n=t[0],a=t[1],e=t[2],o=t[3],u=t[4],i=t[5],s=t[6],c=t[7],f=t[8],h=r[0],l=r[1],M=r[2],v=r[3],d=r[4],m=r[5],E=r[6],b=r[7],A=r[8];return Math.abs(n-h)<=q.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(a-l)<=q.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(e-M)<=q.EPSILON*Math.max(1,Math.abs(e),Math.abs(M))&&Math.abs(o-v)<=q.EPSILON*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(u-d)<=q.EPSILON*Math.max(1,Math.abs(u),Math.abs(d))&&Math.abs(i-m)<=q.EPSILON*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(s-E)<=q.EPSILON*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(c-b)<=q.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(f-A)<=q.EPSILON*Math.max(1,Math.abs(f),Math.abs(A))}Object.defineProperty(r,"__esModule",{value:!0}),r.sub=r.mul=void 0,r.create=e,r.fromMat4=o,r.clone=u,r.copy=i,r.fromValues=s,r.set=c,r.identity=f,r.transpose=h,r.invert=l,r.adjoint=M,r.determinant=v,r.multiply=d,r.translate=m,r.rotate=E,r.scale=b,r.fromTranslation=A,r.fromRotation=p,r.fromScaling=R,r.fromMat2d=P,r.fromQuat=T,r.normalFromMat4=g,r.projection=_,r.str=y,r.frob=x,r.add=O,r.subtract=L,r.multiplyScalar=S,r.multiplyScalarAndAdd=N,r.exactEquals=I,r.equals=Y;var w=n(1),q=a(w);r.mul=d,r.sub=L},function(t,r,n){"use strict";function a(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.default=t,r}function e(){var t=new Z.ARRAY_TYPE(16);return Z.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function o(t){var r=new Z.ARRAY_TYPE(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}function u(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}function i(t,r,n,a,e,o,u,i,s,c,f,h,l,M,v,d){var m=new Z.ARRAY_TYPE(16);return m[0]=t,m[1]=r,m[2]=n,m[3]=a,m[4]=e,m[5]=o,m[6]=u,m[7]=i,m[8]=s,m[9]=c,m[10]=f,m[11]=h,m[12]=l,m[13]=M,m[14]=v,m[15]=d,m}function s(t,r,n,a,e,o,u,i,s,c,f,h,l,M,v,d,m){return t[0]=r,t[1]=n,t[2]=a,t[3]=e,t[4]=o,t[5]=u,t[6]=i,t[7]=s,t[8]=c,t[9]=f,t[10]=h,t[11]=l,t[12]=M,t[13]=v,t[14]=d,t[15]=m,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function f(t,r){if(t===r){var n=r[1],a=r[2],e=r[3],o=r[6],u=r[7],i=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=n,t[6]=r[9],t[7]=r[13],t[8]=a,t[9]=o,t[11]=r[14],t[12]=e,t[13]=u,t[14]=i}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t}function h(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],i=r[5],s=r[6],c=r[7],f=r[8],h=r[9],l=r[10],M=r[11],v=r[12],d=r[13],m=r[14],E=r[15],b=n*i-a*u,A=n*s-e*u,p=n*c-o*u,R=a*s-e*i,P=a*c-o*i,T=e*c-o*s,g=f*d-h*v,_=f*m-l*v,y=f*E-M*v,x=h*m-l*d,O=h*E-M*d,L=l*E-M*m,S=b*L-A*O+p*x+R*y-P*_+T*g;return S?(S=1/S,t[0]=(i*L-s*O+c*x)*S,t[1]=(e*O-a*L-o*x)*S,t[2]=(d*T-m*P+E*R)*S,t[3]=(l*P-h*T-M*R)*S,t[4]=(s*y-u*L-c*_)*S,t[5]=(n*L-e*y+o*_)*S,t[6]=(m*p-v*T-E*A)*S,t[7]=(f*T-l*p+M*A)*S,t[8]=(u*O-i*y+c*g)*S,t[9]=(a*y-n*O-o*g)*S,t[10]=(v*P-d*p+E*b)*S,t[11]=(h*p-f*P-M*b)*S,t[12]=(i*_-u*x-s*g)*S,t[13]=(n*x-a*_+e*g)*S,t[14]=(d*A-v*R-m*b)*S,t[15]=(f*R-h*A+l*b)*S,t):null}function l(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],i=r[5],s=r[6],c=r[7],f=r[8],h=r[9],l=r[10],M=r[11],v=r[12],d=r[13],m=r[14],E=r[15];return t[0]=i*(l*E-M*m)-h*(s*E-c*m)+d*(s*M-c*l),t[1]=-(a*(l*E-M*m)-h*(e*E-o*m)+d*(e*M-o*l)),t[2]=a*(s*E-c*m)-i*(e*E-o*m)+d*(e*c-o*s),t[3]=-(a*(s*M-c*l)-i*(e*M-o*l)+h*(e*c-o*s)),t[4]=-(u*(l*E-M*m)-f*(s*E-c*m)+v*(s*M-c*l)),t[5]=n*(l*E-M*m)-f*(e*E-o*m)+v*(e*M-o*l),t[6]=-(n*(s*E-c*m)-u*(e*E-o*m)+v*(e*c-o*s)),t[7]=n*(s*M-c*l)-u*(e*M-o*l)+f*(e*c-o*s),t[8]=u*(h*E-M*d)-f*(i*E-c*d)+v*(i*M-c*h),t[9]=-(n*(h*E-M*d)-f*(a*E-o*d)+v*(a*M-o*h)),t[10]=n*(i*E-c*d)-u*(a*E-o*d)+v*(a*c-o*i),t[11]=-(n*(i*M-c*h)-u*(a*M-o*h)+f*(a*c-o*i)),t[12]=-(u*(h*m-l*d)-f*(i*m-s*d)+v*(i*l-s*h)),t[13]=n*(h*m-l*d)-f*(a*m-e*d)+v*(a*l-e*h),t[14]=-(n*(i*m-s*d)-u*(a*m-e*d)+v*(a*s-e*i)),t[15]=n*(i*l-s*h)-u*(a*l-e*h)+f*(a*s-e*i),t}function M(t){var r=t[0],n=t[1],a=t[2],e=t[3],o=t[4],u=t[5],i=t[6],s=t[7],c=t[8],f=t[9],h=t[10],l=t[11],M=t[12],v=t[13],d=t[14],m=t[15];return(r*u-n*o)*(h*m-l*d)-(r*i-a*o)*(f*m-l*v)+(r*s-e*o)*(f*d-h*v)+(n*i-a*u)*(c*m-l*M)-(n*s-e*u)*(c*d-h*M)+(a*s-e*i)*(c*v-f*M)}function v(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=r[4],s=r[5],c=r[6],f=r[7],h=r[8],l=r[9],M=r[10],v=r[11],d=r[12],m=r[13],E=r[14],b=r[15],A=n[0],p=n[1],R=n[2],P=n[3];return t[0]=A*a+p*i+R*h+P*d,t[1]=A*e+p*s+R*l+P*m,t[2]=A*o+p*c+R*M+P*E,t[3]=A*u+p*f+R*v+P*b,A=n[4],p=n[5],R=n[6],P=n[7],t[4]=A*a+p*i+R*h+P*d,t[5]=A*e+p*s+R*l+P*m,t[6]=A*o+p*c+R*M+P*E,t[7]=A*u+p*f+R*v+P*b,A=n[8],p=n[9],R=n[10],P=n[11],t[8]=A*a+p*i+R*h+P*d,t[9]=A*e+p*s+R*l+P*m,t[10]=A*o+p*c+R*M+P*E,t[11]=A*u+p*f+R*v+P*b,A=n[12],p=n[13],R=n[14],P=n[15],t[12]=A*a+p*i+R*h+P*d,t[13]=A*e+p*s+R*l+P*m,t[14]=A*o+p*c+R*M+P*E,t[15]=A*u+p*f+R*v+P*b,t}function d(t,r,n){var a=n[0],e=n[1],o=n[2],u=void 0,i=void 0,s=void 0,c=void 0,f=void 0,h=void 0,l=void 0,M=void 0,v=void 0,d=void 0,m=void 0,E=void 0;return r===t?(t[12]=r[0]*a+r[4]*e+r[8]*o+r[12],t[13]=r[1]*a+r[5]*e+r[9]*o+r[13],t[14]=r[2]*a+r[6]*e+r[10]*o+r[14],t[15]=r[3]*a+r[7]*e+r[11]*o+r[15]):(u=r[0],i=r[1],s=r[2],c=r[3],f=r[4],h=r[5],l=r[6],M=r[7],v=r[8],d=r[9],m=r[10],E=r[11],t[0]=u,t[1]=i,t[2]=s,t[3]=c,t[4]=f,t[5]=h,t[6]=l,t[7]=M,t[8]=v,t[9]=d,t[10]=m,t[11]=E,t[12]=u*a+f*e+v*o+r[12],t[13]=i*a+h*e+d*o+r[13],t[14]=s*a+l*e+m*o+r[14],t[15]=c*a+M*e+E*o+r[15]),t}function m(t,r,n){var a=n[0],e=n[1],o=n[2];return t[0]=r[0]*a,t[1]=r[1]*a,t[2]=r[2]*a,t[3]=r[3]*a,t[4]=r[4]*e,t[5]=r[5]*e,t[6]=r[6]*e,t[7]=r[7]*e,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=r[11]*o,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}function E(t,r,n,a){var e=a[0],o=a[1],u=a[2],i=Math.sqrt(e*e+o*o+u*u),s=void 0,c=void 0,f=void 0,h=void 0,l=void 0,M=void 0,v=void 0,d=void 0,m=void 0,E=void 0,b=void 0,A=void 0,p=void 0,R=void 0,P=void 0,T=void 0,g=void 0,_=void 0,y=void 0,x=void 0,O=void 0,L=void 0,S=void 0,N=void 0;return i<Z.EPSILON?null:(i=1/i,e*=i,o*=i,u*=i,s=Math.sin(n),c=Math.cos(n),f=1-c,h=r[0],l=r[1],M=r[2],v=r[3],d=r[4],m=r[5],E=r[6],b=r[7],A=r[8],p=r[9],R=r[10],P=r[11],T=e*e*f+c,g=o*e*f+u*s,_=u*e*f-o*s,y=e*o*f-u*s,x=o*o*f+c,O=u*o*f+e*s,L=e*u*f+o*s,S=o*u*f-e*s,N=u*u*f+c,t[0]=h*T+d*g+A*_,t[1]=l*T+m*g+p*_,t[2]=M*T+E*g+R*_,t[3]=v*T+b*g+P*_,t[4]=h*y+d*x+A*O,t[5]=l*y+m*x+p*O,t[6]=M*y+E*x+R*O,t[7]=v*y+b*x+P*O,t[8]=h*L+d*S+A*N,t[9]=l*L+m*S+p*N,t[10]=M*L+E*S+R*N,t[11]=v*L+b*S+P*N,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)}function b(t,r,n){var a=Math.sin(n),e=Math.cos(n),o=r[4],u=r[5],i=r[6],s=r[7],c=r[8],f=r[9],h=r[10],l=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=o*e+c*a,t[5]=u*e+f*a,t[6]=i*e+h*a,t[7]=s*e+l*a,t[8]=c*e-o*a,t[9]=f*e-u*a,t[10]=h*e-i*a,t[11]=l*e-s*a,t}function A(t,r,n){var a=Math.sin(n),e=Math.cos(n),o=r[0],u=r[1],i=r[2],s=r[3],c=r[8],f=r[9],h=r[10],l=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=o*e-c*a,t[1]=u*e-f*a,t[2]=i*e-h*a,t[3]=s*e-l*a,t[8]=o*a+c*e,t[9]=u*a+f*e,t[10]=i*a+h*e,t[11]=s*a+l*e,t}function p(t,r,n){var a=Math.sin(n),e=Math.cos(n),o=r[0],u=r[1],i=r[2],s=r[3],c=r[4],f=r[5],h=r[6],l=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=o*e+c*a,t[1]=u*e+f*a,t[2]=i*e+h*a,t[3]=s*e+l*a,t[4]=c*e-o*a,t[5]=f*e-u*a,t[6]=h*e-i*a,t[7]=l*e-s*a,t}function R(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function P(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=r[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function T(t,r,n){var a=n[0],e=n[1],o=n[2],u=Math.sqrt(a*a+e*e+o*o),i=void 0,s=void 0,c=void 0;return u<Z.EPSILON?null:(u=1/u,a*=u,e*=u,o*=u,i=Math.sin(r),s=Math.cos(r),c=1-s,t[0]=a*a*c+s,t[1]=e*a*c+o*i,t[2]=o*a*c-e*i,t[3]=0,t[4]=a*e*c-o*i,t[5]=e*e*c+s,t[6]=o*e*c+a*i,t[7]=0,t[8]=a*o*c+e*i,t[9]=e*o*c-a*i,t[10]=o*o*c+s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function g(t,r){var n=Math.sin(r),a=Math.cos(r);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _(t,r){var n=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function y(t,r){var n=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function x(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=a+a,s=e+e,c=o+o,f=a*i,h=a*s,l=a*c,M=e*s,v=e*c,d=o*c,m=u*i,E=u*s,b=u*c;return t[0]=1-(M+d),t[1]=h+b,t[2]=l-E,t[3]=0,t[4]=h-b,t[5]=1-(f+d),t[6]=v+m,t[7]=0,t[8]=l+E,t[9]=v-m,t[10]=1-(f+M),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function O(t,r){var n=new Z.ARRAY_TYPE(3),a=-r[0],e=-r[1],o=-r[2],u=r[3],i=r[4],s=r[5],c=r[6],f=r[7],h=a*a+e*e+o*o+u*u;return h>0?(n[0]=2*(i*u+f*a+s*o-c*e)/h,n[1]=2*(s*u+f*e+c*a-i*o)/h,n[2]=2*(c*u+f*o+i*e-s*a)/h):(n[0]=2*(i*u+f*a+s*o-c*e),n[1]=2*(s*u+f*e+c*a-i*o),n[2]=2*(c*u+f*o+i*e-s*a)),x(t,r,n),t}function L(t,r){return t[0]=r[12],t[1]=r[13],t[2]=r[14],t}function S(t,r){var n=r[0],a=r[1],e=r[2],o=r[4],u=r[5],i=r[6],s=r[8],c=r[9],f=r[10];return t[0]=Math.sqrt(n*n+a*a+e*e),t[1]=Math.sqrt(o*o+u*u+i*i),t[2]=Math.sqrt(s*s+c*c+f*f),t}function N(t,r){var n=r[0]+r[5]+r[10],a=0;return n>0?(a=2*Math.sqrt(n+1),t[3]=.25*a,t[0]=(r[6]-r[9])/a,t[1]=(r[8]-r[2])/a,t[2]=(r[1]-r[4])/a):r[0]>r[5]&&r[0]>r[10]?(a=2*Math.sqrt(1+r[0]-r[5]-r[10]),t[3]=(r[6]-r[9])/a,t[0]=.25*a,t[1]=(r[1]+r[4])/a,t[2]=(r[8]+r[2])/a):r[5]>r[10]?(a=2*Math.sqrt(1+r[5]-r[0]-r[10]),t[3]=(r[8]-r[2])/a,t[0]=(r[1]+r[4])/a,t[1]=.25*a,t[2]=(r[6]+r[9])/a):(a=2*Math.sqrt(1+r[10]-r[0]-r[5]),t[3]=(r[1]-r[4])/a,t[0]=(r[8]+r[2])/a,t[1]=(r[6]+r[9])/a,t[2]=.25*a),t}function I(t,r,n,a){var e=r[0],o=r[1],u=r[2],i=r[3],s=e+e,c=o+o,f=u+u,h=e*s,l=e*c,M=e*f,v=o*c,d=o*f,m=u*f,E=i*s,b=i*c,A=i*f,p=a[0],R=a[1],P=a[2];return t[0]=(1-(v+m))*p,t[1]=(l+A)*p,t[2]=(M-b)*p,t[3]=0,t[4]=(l-A)*R,t[5]=(1-(h+m))*R,t[6]=(d+E)*R,t[7]=0,t[8]=(M+b)*P,t[9]=(d-E)*P,t[10]=(1-(h+v))*P,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Y(t,r,n,a,e){var o=r[0],u=r[1],i=r[2],s=r[3],c=o+o,f=u+u,h=i+i,l=o*c,M=o*f,v=o*h,d=u*f,m=u*h,E=i*h,b=s*c,A=s*f,p=s*h,R=a[0],P=a[1],T=a[2],g=e[0],_=e[1],y=e[2],x=(1-(d+E))*R,O=(M+p)*R,L=(v-A)*R,S=(M-p)*P,N=(1-(l+E))*P,I=(m+b)*P,Y=(v+A)*T,w=(m-b)*T,q=(1-(l+d))*T;return t[0]=x,t[1]=O,t[2]=L,t[3]=0,t[4]=S,t[5]=N,t[6]=I,t[7]=0,t[8]=Y,t[9]=w,t[10]=q,t[11]=0,t[12]=n[0]+g-(x*g+S*_+Y*y),t[13]=n[1]+_-(O*g+N*_+w*y),t[14]=n[2]+y-(L*g+I*_+q*y),t[15]=1,t}function w(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=n+n,i=a+a,s=e+e,c=n*u,f=a*u,h=a*i,l=e*u,M=e*i,v=e*s,d=o*u,m=o*i,E=o*s;return t[0]=1-h-v,t[1]=f+E,t[2]=l-m,t[3]=0,t[4]=f-E,t[5]=1-c-v,t[6]=M+d,t[7]=0,t[8]=l+m,t[9]=M-d,t[10]=1-c-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function q(t,r,n,a,e,o,u){var i=1/(n-r),s=1/(e-a),c=1/(o-u);return t[0]=2*o*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*s,t[6]=0,t[7]=0,t[8]=(n+r)*i,t[9]=(e+a)*s,t[10]=(u+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=u*o*2*c,t[15]=0,t}function F(t,r,n,a,e){var o=1/Math.tan(r/2),u=void 0;return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=e&&e!==1/0?(u=1/(a-e),t[10]=(e+a)*u,t[14]=2*e*a*u):(t[10]=-1,t[14]=-2*a),t}function D(t,r,n,a){var e=Math.tan(r.upDegrees*Math.PI/180),o=Math.tan(r.downDegrees*Math.PI/180),u=Math.tan(r.leftDegrees*Math.PI/180),i=Math.tan(r.rightDegrees*Math.PI/180),s=2/(u+i),c=2/(e+o);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(u-i)*s*.5,t[9]=(e-o)*c*.5,t[10]=a/(n-a),t[11]=-1,t[12]=0,t[13]=0,t[14]=a*n/(n-a),t[15]=0,t}function B(t,r,n,a,e,o,u){var i=1/(r-n),s=1/(a-e),c=1/(o-u);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(r+n)*i,t[13]=(e+a)*s,t[14]=(u+o)*c,t[15]=1,t}function j(t,r,n,a){var e=void 0,o=void 0,u=void 0,i=void 0,s=void 0,f=void 0,h=void 0,l=void 0,M=void 0,v=void 0,d=r[0],m=r[1],E=r[2],b=a[0],A=a[1],p=a[2],R=n[0],P=n[1],T=n[2];return Math.abs(d-R)<Z.EPSILON&&Math.abs(m-P)<Z.EPSILON&&Math.abs(E-T)<Z.EPSILON?c(t):(h=d-R,l=m-P,M=E-T,v=1/Math.sqrt(h*h+l*l+M*M),h*=v,l*=v,M*=v,e=A*M-p*l,o=p*h-b*M,u=b*l-A*h,v=Math.sqrt(e*e+o*o+u*u),v?(v=1/v,e*=v,o*=v,u*=v):(e=0,o=0,u=0),i=l*u-M*o,s=M*e-h*u,f=h*o-l*e,v=Math.sqrt(i*i+s*s+f*f),v?(v=1/v,i*=v,s*=v,f*=v):(i=0,s=0,f=0),t[0]=e,t[1]=i,t[2]=h,t[3]=0,t[4]=o,t[5]=s,t[6]=l,t[7]=0,t[8]=u,t[9]=f,t[10]=M,t[11]=0,t[12]=-(e*d+o*m+u*E),t[13]=-(i*d+s*m+f*E),t[14]=-(h*d+l*m+M*E),t[15]=1,t)}function z(t,r,n,a){var e=r[0],o=r[1],u=r[2],i=a[0],s=a[1],c=a[2],f=e-n[0],h=o-n[1],l=u-n[2],M=f*f+h*h+l*l;M>0&&(M=1/Math.sqrt(M),f*=M,h*=M,l*=M);var v=s*l-c*h,d=c*f-i*l,m=i*h-s*f;return M=v*v+d*d+m*m,M>0&&(M=1/Math.sqrt(M),v*=M,d*=M,m*=M),t[0]=v,t[1]=d,t[2]=m,t[3]=0,t[4]=h*m-l*d,t[5]=l*v-f*m,t[6]=f*d-h*v,t[7]=0,t[8]=f,t[9]=h,t[10]=l,t[11]=0,t[12]=e,t[13]=o,t[14]=u,t[15]=1,t}function C(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function U(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function V(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t[4]=r[4]+n[4],t[5]=r[5]+n[5],t[6]=r[6]+n[6],t[7]=r[7]+n[7],t[8]=r[8]+n[8],t[9]=r[9]+n[9],t[10]=r[10]+n[10],t[11]=r[11]+n[11],t[12]=r[12]+n[12],t[13]=r[13]+n[13],t[14]=r[14]+n[14],t[15]=r[15]+n[15],t}function G(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t[4]=r[4]-n[4],t[5]=r[5]-n[5],t[6]=r[6]-n[6],t[7]=r[7]-n[7],t[8]=r[8]-n[8],t[9]=r[9]-n[9],t[10]=r[10]-n[10],t[11]=r[11]-n[11],t[12]=r[12]-n[12],t[13]=r[13]-n[13],t[14]=r[14]-n[14],t[15]=r[15]-n[15],t}function X(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*n,t[5]=r[5]*n,t[6]=r[6]*n,t[7]=r[7]*n,t[8]=r[8]*n,t[9]=r[9]*n,t[10]=r[10]*n,t[11]=r[11]*n,t[12]=r[12]*n,t[13]=r[13]*n,t[14]=r[14]*n,t[15]=r[15]*n,t}function k(t,r,n,a){return t[0]=r[0]+n[0]*a,t[1]=r[1]+n[1]*a,t[2]=r[2]+n[2]*a,t[3]=r[3]+n[3]*a,t[4]=r[4]+n[4]*a,t[5]=r[5]+n[5]*a,t[6]=r[6]+n[6]*a,t[7]=r[7]+n[7]*a,t[8]=r[8]+n[8]*a,t[9]=r[9]+n[9]*a,t[10]=r[10]+n[10]*a,t[11]=r[11]+n[11]*a,t[12]=r[12]+n[12]*a,t[13]=r[13]+n[13]*a,t[14]=r[14]+n[14]*a,t[15]=r[15]+n[15]*a,t}function H(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]&&t[8]===r[8]&&t[9]===r[9]&&t[10]===r[10]&&t[11]===r[11]&&t[12]===r[12]&&t[13]===r[13]&&t[14]===r[14]&&t[15]===r[15]}function W(t,r){var n=t[0],a=t[1],e=t[2],o=t[3],u=t[4],i=t[5],s=t[6],c=t[7],f=t[8],h=t[9],l=t[10],M=t[11],v=t[12],d=t[13],m=t[14],E=t[15],b=r[0],A=r[1],p=r[2],R=r[3],P=r[4],T=r[5],g=r[6],_=r[7],y=r[8],x=r[9],O=r[10],L=r[11],S=r[12],N=r[13],I=r[14],Y=r[15];return Math.abs(n-b)<=Z.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(a-A)<=Z.EPSILON*Math.max(1,Math.abs(a),Math.abs(A))&&Math.abs(e-p)<=Z.EPSILON*Math.max(1,Math.abs(e),Math.abs(p))&&Math.abs(o-R)<=Z.EPSILON*Math.max(1,Math.abs(o),Math.abs(R))&&Math.abs(u-P)<=Z.EPSILON*Math.max(1,Math.abs(u),Math.abs(P))&&Math.abs(i-T)<=Z.EPSILON*Math.max(1,Math.abs(i),Math.abs(T))&&Math.abs(s-g)<=Z.EPSILON*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(c-_)<=Z.EPSILON*Math.max(1,Math.abs(c),Math.abs(_))&&Math.abs(f-y)<=Z.EPSILON*Math.max(1,Math.abs(f),Math.abs(y))&&Math.abs(h-x)<=Z.EPSILON*Math.max(1,Math.abs(h),Math.abs(x))&&Math.abs(l-O)<=Z.EPSILON*Math.max(1,Math.abs(l),Math.abs(O))&&Math.abs(M-L)<=Z.EPSILON*Math.max(1,Math.abs(M),Math.abs(L))&&Math.abs(v-S)<=Z.EPSILON*Math.max(1,Math.abs(v),Math.abs(S))&&Math.abs(d-N)<=Z.EPSILON*Math.max(1,Math.abs(d),Math.abs(N))&&Math.abs(m-I)<=Z.EPSILON*Math.max(1,Math.abs(m),Math.abs(I))&&Math.abs(E-Y)<=Z.EPSILON*Math.max(1,Math.abs(E),Math.abs(Y))}Object.defineProperty(r,"__esModule",{value:!0}),r.sub=r.mul=void 0,r.create=e,r.clone=o,r.copy=u,r.fromValues=i,r.set=s,r.identity=c,r.transpose=f,r.invert=h,r.adjoint=l,r.determinant=M,r.multiply=v,r.translate=d,r.scale=m,r.rotate=E,r.rotateX=b,r.rotateY=A,r.rotateZ=p,r.fromTranslation=R,r.fromScaling=P,r.fromRotation=T,r.fromXRotation=g,r.fromYRotation=_,r.fromZRotation=y,r.fromRotationTranslation=x,r.fromQuat2=O,r.getTranslation=L,r.getScaling=S,r.getRotation=N,r.fromRotationTranslationScale=I,r.fromRotationTranslationScaleOrigin=Y,r.fromQuat=w,r.frustum=q,r.perspective=F,r.perspectiveFromFieldOfView=D,r.ortho=B,r.lookAt=j,r.targetTo=z,r.str=C,r.frob=U,r.add=V,r.subtract=G,r.multiplyScalar=X,r.multiplyScalarAndAdd=k,r.exactEquals=H,r.equals=W;var Q=n(1),Z=a(Q);r.mul=v,r.sub=G},function(t,r,n){"use strict";function a(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.default=t,r}function e(){var t=new R.ARRAY_TYPE(4);return R.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function o(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function u(t,r,n){n*=.5;var a=Math.sin(n);return t[0]=a*r[0],t[1]=a*r[1],t[2]=a*r[2],t[3]=Math.cos(n),t}function i(t,r){var n=2*Math.acos(r[3]),a=Math.sin(n/2);return a>R.EPSILON?(t[0]=r[0]/a,t[1]=r[1]/a,t[2]=r[2]/a):(t[0]=1,t[1]=0,t[2]=0),n}function s(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=n[0],s=n[1],c=n[2],f=n[3];return t[0]=a*f+u*i+e*c-o*s,t[1]=e*f+u*s+o*i-a*c,t[2]=o*f+u*c+a*s-e*i,t[3]=u*f-a*i-e*s-o*c,t}function c(t,r,n){n*=.5;var a=r[0],e=r[1],o=r[2],u=r[3],i=Math.sin(n),s=Math.cos(n);return t[0]=a*s+u*i,t[1]=e*s+o*i,t[2]=o*s-e*i,t[3]=u*s-a*i,t}function f(t,r,n){n*=.5;var a=r[0],e=r[1],o=r[2],u=r[3],i=Math.sin(n),s=Math.cos(n);return t[0]=a*s-o*i,t[1]=e*s+u*i,t[2]=o*s+a*i,t[3]=u*s-e*i,t}function h(t,r,n){n*=.5;var a=r[0],e=r[1],o=r[2],u=r[3],i=Math.sin(n),s=Math.cos(n);return t[0]=a*s+e*i,t[1]=e*s-a*i,t[2]=o*s+u*i,t[3]=u*s-o*i,t}function l(t,r){var n=r[0],a=r[1],e=r[2];return t[0]=n,t[1]=a,t[2]=e,t[3]=Math.sqrt(Math.abs(1-n*n-a*a-e*e)),t}function M(t,r,n,a){var e=r[0],o=r[1],u=r[2],i=r[3],s=n[0],c=n[1],f=n[2],h=n[3],l=void 0,M=void 0,v=void 0,d=void 0,m=void 0;return M=e*s+o*c+u*f+i*h,M<0&&(M=-M,s=-s,c=-c,f=-f,h=-h),1-M>R.EPSILON?(l=Math.acos(M),v=Math.sin(l),d=Math.sin((1-a)*l)/v,m=Math.sin(a*l)/v):(d=1-a,m=a),t[0]=d*e+m*s,t[1]=d*o+m*c,t[2]=d*u+m*f,t[3]=d*i+m*h,t}function v(t){var r=R.RANDOM(),n=R.RANDOM(),a=R.RANDOM(),e=Math.sqrt(1-r),o=Math.sqrt(r);return t[0]=e*Math.sin(2*Math.PI*n),t[1]=e*Math.cos(2*Math.PI*n),t[2]=o*Math.sin(2*Math.PI*a),t[3]=o*Math.cos(2*Math.PI*a),t}function d(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=n*n+a*a+e*e+o*o,i=u?1/u:0;return t[0]=-n*i,t[1]=-a*i,t[2]=-e*i,t[3]=o*i,t}function m(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t}function E(t,r){var n=r[0]+r[4]+r[8],a=void 0;if(n>0)a=Math.sqrt(n+1),t[3]=.5*a,a=.5/a,t[0]=(r[5]-r[7])*a,t[1]=(r[6]-r[2])*a,t[2]=(r[1]-r[3])*a;else{var e=0;r[4]>r[0]&&(e=1),r[8]>r[3*e+e]&&(e=2);var o=(e+1)%3,u=(e+2)%3;a=Math.sqrt(r[3*e+e]-r[3*o+o]-r[3*u+u]+1),t[e]=.5*a,a=.5/a,t[3]=(r[3*o+u]-r[3*u+o])*a,t[o]=(r[3*o+e]+r[3*e+o])*a,t[u]=(r[3*u+e]+r[3*e+u])*a}return t}function b(t,r,n,a){var e=.5*Math.PI/180;r*=e,n*=e,a*=e;var o=Math.sin(r),u=Math.cos(r),i=Math.sin(n),s=Math.cos(n),c=Math.sin(a),f=Math.cos(a);return t[0]=o*s*f-u*i*c,t[1]=u*i*f+o*s*c,t[2]=u*s*c-o*i*f,t[3]=u*s*f+o*i*c,t}function A(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}Object.defineProperty(r,"__esModule",{value:!0}),r.setAxes=r.sqlerp=r.rotationTo=r.equals=r.exactEquals=r.normalize=r.sqrLen=r.squaredLength=r.len=r.length=r.lerp=r.dot=r.scale=r.mul=r.add=r.set=r.copy=r.fromValues=r.clone=void 0,r.create=e,r.identity=o,r.setAxisAngle=u,r.getAxisAngle=i,r.multiply=s,r.rotateX=c,r.rotateY=f,r.rotateZ=h,r.calculateW=l,r.slerp=M,r.random=v,r.invert=d,r.conjugate=m,r.fromMat3=E,r.fromEuler=b,r.str=A;var p=n(1),R=a(p),P=n(21),T=a(P),g=n(24),_=a(g),y=n(25),x=a(y),O=(r.clone=x.clone,r.fromValues=x.fromValues,r.copy=x.copy,r.set=x.set,r.add=x.add,r.mul=s,r.scale=x.scale,r.dot=x.dot,r.lerp=x.lerp,r.length=x.length),L=(r.len=O,r.squaredLength=x.squaredLength),S=(r.sqrLen=L,r.normalize=x.normalize);r.exactEquals=x.exactEquals,r.equals=x.equals,r.rotationTo=function(){var t=_.create(),r=_.fromValues(1,0,0),n=_.fromValues(0,1,0);return function(a,e,o){var i=_.dot(e,o);return i<-.999999?(_.cross(t,r,e),_.len(t)<1e-6&&_.cross(t,n,e),_.normalize(t,t),u(a,t,Math.PI),a):i>.999999?(a[0]=0,a[1]=0,a[2]=0,a[3]=1,a):(_.cross(t,e,o),a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=1+i,S(a,a))}}(),r.sqlerp=function(){var t=e(),r=e();return function(n,a,e,o,u,i){return M(t,a,u,i),M(r,e,o,i),M(n,t,r,2*i*(1-i)),n}}(),r.setAxes=function(){var t=T.create();return function(r,n,a,e){return t[0]=a[0],t[3]=a[1],t[6]=a[2],t[1]=e[0],t[4]=e[1],t[7]=e[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],S(r,E(r,t))}}()},function(t,r,n){"use strict";function a(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.default=t,r}function e(){var t=new G.ARRAY_TYPE(3);return G.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function o(t){var r=new G.ARRAY_TYPE(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}function u(t){var r=t[0],n=t[1],a=t[2];return Math.sqrt(r*r+n*n+a*a)}function i(t,r,n){var a=new G.ARRAY_TYPE(3);return a[0]=t,a[1]=r,a[2]=n,a}function s(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}function c(t,r,n,a){return t[0]=r,t[1]=n,t[2]=a,t}function f(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t}function h(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t}function l(t,r,n){return t[0]=r[0]*n[0],t[1]=r[1]*n[1],t[2]=r[2]*n[2],t}function M(t,r,n){return t[0]=r[0]/n[0],t[1]=r[1]/n[1],t[2]=r[2]/n[2],t}function v(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t}function d(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t}function m(t,r,n){return t[0]=Math.min(r[0],n[0]),t[1]=Math.min(r[1],n[1]),t[2]=Math.min(r[2],n[2]),t}function E(t,r,n){return t[0]=Math.max(r[0],n[0]),t[1]=Math.max(r[1],n[1]),t[2]=Math.max(r[2],n[2]),t}function b(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t}function A(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t}function p(t,r,n,a){return t[0]=r[0]+n[0]*a,t[1]=r[1]+n[1]*a,t[2]=r[2]+n[2]*a,t}function R(t,r){var n=r[0]-t[0],a=r[1]-t[1],e=r[2]-t[2];return Math.sqrt(n*n+a*a+e*e)}function P(t,r){var n=r[0]-t[0],a=r[1]-t[1],e=r[2]-t[2];return n*n+a*a+e*e}function T(t){var r=t[0],n=t[1],a=t[2];return r*r+n*n+a*a}function g(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}function _(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}function y(t,r){var n=r[0],a=r[1],e=r[2],o=n*n+a*a+e*e;return o>0&&(o=1/Math.sqrt(o),t[0]=r[0]*o,t[1]=r[1]*o,t[2]=r[2]*o),t}function x(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}function O(t,r,n){var a=r[0],e=r[1],o=r[2],u=n[0],i=n[1],s=n[2];return t[0]=e*s-o*i,t[1]=o*u-a*s,t[2]=a*i-e*u,t}function L(t,r,n,a){var e=r[0],o=r[1],u=r[2];return t[0]=e+a*(n[0]-e),t[1]=o+a*(n[1]-o),t[2]=u+a*(n[2]-u),t}function S(t,r,n,a,e,o){var u=o*o,i=u*(2*o-3)+1,s=u*(o-2)+o,c=u*(o-1),f=u*(3-2*o);return t[0]=r[0]*i+n[0]*s+a[0]*c+e[0]*f,t[1]=r[1]*i+n[1]*s+a[1]*c+e[1]*f,t[2]=r[2]*i+n[2]*s+a[2]*c+e[2]*f,t}function N(t,r,n,a,e,o){var u=1-o,i=u*u,s=o*o,c=i*u,f=3*o*i,h=3*s*u,l=s*o;return t[0]=r[0]*c+n[0]*f+a[0]*h+e[0]*l,t[1]=r[1]*c+n[1]*f+a[1]*h+e[1]*l,t[2]=r[2]*c+n[2]*f+a[2]*h+e[2]*l,t}function I(t,r){r=r||1;var n=2*G.RANDOM()*Math.PI,a=2*G.RANDOM()-1,e=Math.sqrt(1-a*a)*r;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t[2]=a*r,t}function Y(t,r,n){var a=r[0],e=r[1],o=r[2],u=n[3]*a+n[7]*e+n[11]*o+n[15];return u=u||1,t[0]=(n[0]*a+n[4]*e+n[8]*o+n[12])/u,t[1]=(n[1]*a+n[5]*e+n[9]*o+n[13])/u,t[2]=(n[2]*a+n[6]*e+n[10]*o+n[14])/u,t}function w(t,r,n){var a=r[0],e=r[1],o=r[2];return t[0]=a*n[0]+e*n[3]+o*n[6],t[1]=a*n[1]+e*n[4]+o*n[7],t[2]=a*n[2]+e*n[5]+o*n[8],t}function q(t,r,n){var a=n[0],e=n[1],o=n[2],u=n[3],i=r[0],s=r[1],c=r[2],f=e*c-o*s,h=o*i-a*c,l=a*s-e*i,M=e*l-o*h,v=o*f-a*l,d=a*h-e*f,m=2*u;return f*=m,h*=m,l*=m,M*=2,v*=2,d*=2,t[0]=i+f+M,t[1]=s+h+v,t[2]=c+l+d,t}function F(t,r,n,a){var e=[],o=[];return e[0]=r[0]-n[0],e[1]=r[1]-n[1],e[2]=r[2]-n[2],o[0]=e[0],o[1]=e[1]*Math.cos(a)-e[2]*Math.sin(a),o[2]=e[1]*Math.sin(a)+e[2]*Math.cos(a),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function D(t,r,n,a){var e=[],o=[];return e[0]=r[0]-n[0],e[1]=r[1]-n[1],e[2]=r[2]-n[2],o[0]=e[2]*Math.sin(a)+e[0]*Math.cos(a),o[1]=e[1],o[2]=e[2]*Math.cos(a)-e[0]*Math.sin(a),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function B(t,r,n,a){var e=[],o=[];return e[0]=r[0]-n[0],e[1]=r[1]-n[1],e[2]=r[2]-n[2],o[0]=e[0]*Math.cos(a)-e[1]*Math.sin(a),o[1]=e[0]*Math.sin(a)+e[1]*Math.cos(a),o[2]=e[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function j(t,r){var n=i(t[0],t[1],t[2]),a=i(r[0],r[1],r[2]);y(n,n),y(a,a);var e=x(n,a);return e>1?0:e<-1?Math.PI:Math.acos(e)}function z(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function C(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}function U(t,r){var n=t[0],a=t[1],e=t[2],o=r[0],u=r[1],i=r[2];return Math.abs(n-o)<=G.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(a-u)<=G.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(e-i)<=G.EPSILON*Math.max(1,Math.abs(e),Math.abs(i))}Object.defineProperty(r,"__esModule",{value:!0}),r.forEach=r.sqrLen=r.len=r.sqrDist=r.dist=r.div=r.mul=r.sub=void 0,r.create=e,r.clone=o,r.length=u,r.fromValues=i,r.copy=s,r.set=c,r.add=f,r.subtract=h,r.multiply=l,r.divide=M,r.ceil=v,r.floor=d,r.min=m,r.max=E,r.round=b,r.scale=A,r.scaleAndAdd=p,r.distance=R,r.squaredDistance=P,r.squaredLength=T,r.negate=g,r.inverse=_,r.normalize=y,r.dot=x,r.cross=O,r.lerp=L,r.hermite=S,r.bezier=N,r.random=I,r.transformMat4=Y,r.transformMat3=w,r.transformQuat=q,r.rotateX=F,r.rotateY=D,r.rotateZ=B,r.angle=j,r.str=z,r.exactEquals=C,r.equals=U;var V=n(1),G=a(V);r.sub=h,r.mul=l,r.div=M,r.dist=R,r.sqrDist=P,r.len=u,r.sqrLen=T,r.forEach=function(){var t=e();return function(r,n,a,e,o,u){var i=void 0,s=void 0;for(n||(n=3),a||(a=0),s=e?Math.min(e*n+a,r.length):r.length,i=a;i<s;i+=n)t[0]=r[i],t[1]=r[i+1],t[2]=r[i+2],o(t,t,u),r[i]=t[0],r[i+1]=t[1],r[i+2]=t[2];return r}}()},function(t,r,n){"use strict";function a(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.default=t,r}function e(){var t=new F.ARRAY_TYPE(4);return F.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function o(t){var r=new F.ARRAY_TYPE(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}function u(t,r,n,a){var e=new F.ARRAY_TYPE(4);return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e}function i(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}function s(t,r,n,a,e){return t[0]=r,t[1]=n,t[2]=a,t[3]=e,t}function c(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t}function f(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t}function h(t,r,n){return t[0]=r[0]*n[0],t[1]=r[1]*n[1],t[2]=r[2]*n[2],t[3]=r[3]*n[3],t}function l(t,r,n){return t[0]=r[0]/n[0],t[1]=r[1]/n[1],t[2]=r[2]/n[2],t[3]=r[3]/n[3],t}function M(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t[3]=Math.ceil(r[3]),t}function v(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t[3]=Math.floor(r[3]),t}function d(t,r,n){return t[0]=Math.min(r[0],n[0]),t[1]=Math.min(r[1],n[1]),t[2]=Math.min(r[2],n[2]),t[3]=Math.min(r[3],n[3]),t}function m(t,r,n){return t[0]=Math.max(r[0],n[0]),t[1]=Math.max(r[1],n[1]),t[2]=Math.max(r[2],n[2]),t[3]=Math.max(r[3],n[3]),t}function E(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t[3]=Math.round(r[3]),t}function b(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t}function A(t,r,n,a){return t[0]=r[0]+n[0]*a,t[1]=r[1]+n[1]*a,t[2]=r[2]+n[2]*a,t[3]=r[3]+n[3]*a,t}function p(t,r){var n=r[0]-t[0],a=r[1]-t[1],e=r[2]-t[2],o=r[3]-t[3];return Math.sqrt(n*n+a*a+e*e+o*o)}function R(t,r){var n=r[0]-t[0],a=r[1]-t[1],e=r[2]-t[2],o=r[3]-t[3];return n*n+a*a+e*e+o*o}function P(t){var r=t[0],n=t[1],a=t[2],e=t[3];return Math.sqrt(r*r+n*n+a*a+e*e)}function T(t){var r=t[0],n=t[1],a=t[2],e=t[3];return r*r+n*n+a*a+e*e}function g(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t}function _(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t}function y(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=n*n+a*a+e*e+o*o;return u>0&&(u=1/Math.sqrt(u),t[0]=n*u,t[1]=a*u,t[2]=e*u,t[3]=o*u),t}function x(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]}function O(t,r,n,a){var e=r[0],o=r[1],u=r[2],i=r[3];return t[0]=e+a*(n[0]-e),t[1]=o+a*(n[1]-o),t[2]=u+a*(n[2]-u),t[3]=i+a*(n[3]-i),t}function L(t,r){r=r||1;var n,a,e,o,u,i;do{n=2*F.RANDOM()-1,a=2*F.RANDOM()-1,u=n*n+a*a}while(u>=1);do{e=2*F.RANDOM()-1,o=2*F.RANDOM()-1,i=e*e+o*o}while(i>=1);var s=Math.sqrt((1-u)/i);return t[0]=r*n,t[1]=r*a,t[2]=r*e*s,t[3]=r*o*s,t}function S(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3];return t[0]=n[0]*a+n[4]*e+n[8]*o+n[12]*u,t[1]=n[1]*a+n[5]*e+n[9]*o+n[13]*u,t[2]=n[2]*a+n[6]*e+n[10]*o+n[14]*u,t[3]=n[3]*a+n[7]*e+n[11]*o+n[15]*u,t}function N(t,r,n){var a=r[0],e=r[1],o=r[2],u=n[0],i=n[1],s=n[2],c=n[3],f=c*a+i*o-s*e,h=c*e+s*a-u*o,l=c*o+u*e-i*a,M=-u*a-i*e-s*o;return t[0]=f*c+M*-u+h*-s-l*-i,t[1]=h*c+M*-i+l*-u-f*-s,t[2]=l*c+M*-s+f*-i-h*-u,t[3]=r[3],t}function I(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function Y(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]}function w(t,r){var n=t[0],a=t[1],e=t[2],o=t[3],u=r[0],i=r[1],s=r[2],c=r[3];return Math.abs(n-u)<=F.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-i)<=F.EPSILON*Math.max(1,Math.abs(a),Math.abs(i))&&Math.abs(e-s)<=F.EPSILON*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(o-c)<=F.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))}Object.defineProperty(r,"__esModule",{value:!0}),r.forEach=r.sqrLen=r.len=r.sqrDist=r.dist=r.div=r.mul=r.sub=void 0,r.create=e,r.clone=o,r.fromValues=u,r.copy=i,r.set=s,r.add=c,r.subtract=f,r.multiply=h,r.divide=l,r.ceil=M,r.floor=v,r.min=d,r.max=m,r.round=E,r.scale=b,r.scaleAndAdd=A,r.distance=p,r.squaredDistance=R,r.length=P,r.squaredLength=T,r.negate=g,r.inverse=_,r.normalize=y,r.dot=x,r.lerp=O,r.random=L,r.transformMat4=S,r.transformQuat=N,r.str=I,r.exactEquals=Y,r.equals=w;var q=n(1),F=a(q);r.sub=f,r.mul=h,r.div=l,r.dist=p,r.sqrDist=R,r.len=P,r.sqrLen=T,r.forEach=function(){var t=e();return function(r,n,a,e,o,u){var i=void 0,s=void 0;for(n||(n=4),a||(a=0),s=e?Math.min(e*n+a,r.length):r.length,i=a;i<s;i+=n)t[0]=r[i],t[1]=r[i+1],t[2]=r[i+2],t[3]=r[i+3],o(t,t,u),r[i]=t[0],r[i+1]=t[1],r[i+2]=t[2],r[i+3]=t[3];return r}}()},function(t,r,n){"use strict";function a(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.default=t,r}var e=function(){function t(t,r){var n=[],a=!0,e=!1,o=void 0;try{for(var u,i=t[Symbol.iterator]();!(a=(u=i.next()).done)&&(n.push(u.value),!r||n.length!==r);a=!0);}catch(t){e=!0,o=t}finally{try{!a&&i.return&&i.return()}finally{if(e)throw o}}return n}return function(r,n){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return t(r,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(39),u=a(o),i=n(44),s=1024,c=1024,f=document.getElementsByTagName("canvas"),h=e(f,1),l=h[0],M=u.Context(l,["webgl"]),v=M.gl;l.width=s,l.height=c,v.viewport(0,0,s,c),v.enable(v.DEPTH_TEST),v.getExtension("WEBGL_depth_texture");var d=0,m=u.Camera({fov:i.glMatrix.toRadian(45),aspect:s/c,near:.1,far:1e3});m.transformation.translation=[0,0,-6];var E=u.Program({context:M,vertex:"\n\n\t\tprecision highp float;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 texture;\n\n\t\tuniform mat4 model;\n\t\tuniform mat4 view;\n\t\tuniform mat4 projection;\n\n\t\tvarying vec2 vertex_texture;\n\n\t\tvoid main() {\n\n\t\t\tgl_Position = projection * view * model * vec4(position, 1.0);\n\n\t\t\tvertex_texture = texture;\n\t\t\n\t\t}\n\n\t",fragment:"\n\n\t\tprecision highp float;\n\n\t\tvarying vec2 vertex_texture;\n\n\t\tvoid main() {\n\n\t\t\tgl_FragColor = vec4(\n\n\t\t\t\tabs((vertex_texture.x - 0.5) * 2.0), \n\t\t\t\tabs((vertex_texture.y - 0.5) * 2.0), \n\t\t\t\t1.0, \n\t\t\t\t1.0\n\n\t\t\t);\n\n\t\t}\n\n\t"}),b=u.Sphere({context:M,resX:50,resY:50}),A=u.FramebufferTextureConfig({gl:v,format:v.RGB,internalFormat:v.RGB,type:v.UNSIGNED_BYTE}),p=u.PassPipeline(M,s,c);p.add(v.COLOR_ATTACHMENT0,A,function(){E.use();var t=m.lookAt([0,0,0]),r=m.perspective();E.setUniforms({projection:r,view:t}),b.draw({all:{attributeLocations:E.attributes,callback:function(t){var r=t.matrix;return E.setUniform("model",r)}}})});var R=u.PostProcessor(M,s,c),P=u.Program({context:M,vertex:"\n\n\t\tprecision highp float;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 texture;\n\n\t\tvarying vec2 vertex_texture;\n\n\t\tvoid main() {\n\n\t\t\tgl_Position = vec4(position, 1.0);\n\n\t\t\tvertex_texture = texture;\n\t\t\n\t\t}\n\n\t",fragment:"\n\n\t\tprecision highp float;\n\n\t\tconst float PI = "+Math.PI+";\n\n\t\tuniform sampler2D texture0;\n\t\tuniform float time;\n\n\t\tvarying vec2 vertex_texture;\n\n\t\tvoid main() {\n\n\t\t\tvec2 uv = vertex_texture;\n\n\t\t\tuv.y += (sin( time * (PI * 2.0) ) * 0.05) * sin(uv.x * (PI * 20.0));\n\n\t\t\tgl_FragColor = texture2D(texture0, uv);\n\n\t\t}\n\n\t"});R.passes([{textures:[p.framebuffer.attachment(v.COLOR_ATTACHMENT0)],program:P,callback:function(){P.setUniform("time",d)}}]);var T=u.View(M);T.addScreen({texture:R.framebuffer.attachment(v.COLOR_ATTACHMENT0),matrix:i.mat4.create()}),u.Timer(60).run(function(t,r){d=(r%200-100)/100,b.transformation.rotation[0]+=.9,b.transformation.rotation[1]+=.9,p.run([0,.5,1,1]),R.run(),T.render()})},function(t,r,n){"use strict";function a(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.default=t,r}function e(){var t=new L.ARRAY_TYPE(4);return L.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function o(t){var r=new L.ARRAY_TYPE(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}function u(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}function i(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function s(t,r,n,a){var e=new L.ARRAY_TYPE(4);return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e}function c(t,r,n,a,e){return t[0]=r,t[1]=n,t[2]=a,t[3]=e,t}function f(t,r){if(t===r){var n=r[1];t[1]=r[2],t[2]=n}else t[0]=r[0],t[1]=r[2],t[2]=r[1],t[3]=r[3];return t}function h(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=n*o-e*a;return u?(u=1/u,t[0]=o*u,t[1]=-a*u,t[2]=-e*u,t[3]=n*u,t):null}function l(t,r){var n=r[0];return t[0]=r[3],t[1]=-r[1],t[2]=-r[2],t[3]=n,t}function M(t){return t[0]*t[3]-t[2]*t[1]}function v(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=n[0],s=n[1],c=n[2],f=n[3];return t[0]=a*i+o*s,t[1]=e*i+u*s,t[2]=a*c+o*f,t[3]=e*c+u*f,t}function d(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=Math.sin(n),s=Math.cos(n);return t[0]=a*s+o*i,t[1]=e*s+u*i,t[2]=a*-i+o*s,t[3]=e*-i+u*s,t}function m(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=n[0],s=n[1];return t[0]=a*i,t[1]=e*i,t[2]=o*s,t[3]=u*s,t}function E(t,r){var n=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=n,t[2]=-n,t[3]=a,t}function b(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t}function A(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function p(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function R(t,r,n,a){return t[2]=a[2]/a[0],n[0]=a[0],n[1]=a[1],n[3]=a[3]-t[2]*n[1],[t,r,n]}function P(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t}function T(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t}function g(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]}function _(t,r){var n=t[0],a=t[1],e=t[2],o=t[3],u=r[0],i=r[1],s=r[2],c=r[3];return Math.abs(n-u)<=L.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-i)<=L.EPSILON*Math.max(1,Math.abs(a),Math.abs(i))&&Math.abs(e-s)<=L.EPSILON*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(o-c)<=L.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))}function y(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t}function x(t,r,n,a){return t[0]=r[0]+n[0]*a,t[1]=r[1]+n[1]*a,t[2]=r[2]+n[2]*a,t[3]=r[3]+n[3]*a,t}Object.defineProperty(r,"__esModule",{value:!0}),r.sub=r.mul=void 0,r.create=e,r.clone=o,r.copy=u,r.identity=i,r.fromValues=s,r.set=c,r.transpose=f,r.invert=h,r.adjoint=l,r.determinant=M,r.multiply=v,r.rotate=d,r.scale=m,r.fromRotation=E,r.fromScaling=b,r.str=A,r.frob=p,r.LDU=R,r.add=P,r.subtract=T,r.exactEquals=g,r.equals=_,r.multiplyScalar=y,r.multiplyScalarAndAdd=x;var O=n(0),L=a(O);r.mul=v,r.sub=T},function(t,r,n){"use strict";function a(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.default=t,r}function e(){var t=new O.ARRAY_TYPE(6);return O.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function o(t){var r=new O.ARRAY_TYPE(6);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r}function u(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t}function i(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function s(t,r,n,a,e,o){var u=new O.ARRAY_TYPE(6);return u[0]=t,u[1]=r,u[2]=n,u[3]=a,u[4]=e,u[5]=o,u}function c(t,r,n,a,e,o,u){return t[0]=r,t[1]=n,t[2]=a,t[3]=e,t[4]=o,t[5]=u,t}function f(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],i=r[5],s=n*o-a*e;return s?(s=1/s,t[0]=o*s,t[1]=-a*s,t[2]=-e*s,t[3]=n*s,t[4]=(e*i-o*u)*s,t[5]=(a*u-n*i)*s,t):null}function h(t){return t[0]*t[3]-t[1]*t[2]}function l(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=r[4],s=r[5],c=n[0],f=n[1],h=n[2],l=n[3],M=n[4],v=n[5];return t[0]=a*c+o*f,t[1]=e*c+u*f,t[2]=a*h+o*l,t[3]=e*h+u*l,t[4]=a*M+o*v+i,t[5]=e*M+u*v+s,t}function M(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=r[4],s=r[5],c=Math.sin(n),f=Math.cos(n);return t[0]=a*f+o*c,t[1]=e*f+u*c,t[2]=a*-c+o*f,t[3]=e*-c+u*f,t[4]=i,t[5]=s,t}function v(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=r[4],s=r[5],c=n[0],f=n[1];return t[0]=a*c,t[1]=e*c,t[2]=o*f,t[3]=u*f,t[4]=i,t[5]=s,t}function d(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=r[4],s=r[5],c=n[0],f=n[1];return t[0]=a,t[1]=e,t[2]=o,t[3]=u,t[4]=a*c+o*f+i,t[5]=e*c+u*f+s,t}function m(t,r){var n=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=n,t[2]=-n,t[3]=a,t[4]=0,t[5]=0,t}function E(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t[4]=0,t[5]=0,t}function b(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=r[0],t[5]=r[1],t}function A(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function p(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)}function R(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t[4]=r[4]+n[4],t[5]=r[5]+n[5],t}function P(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t[4]=r[4]-n[4],t[5]=r[5]-n[5],t}function T(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*n,t[5]=r[5]*n,t}function g(t,r,n,a){return t[0]=r[0]+n[0]*a,t[1]=r[1]+n[1]*a,t[2]=r[2]+n[2]*a,t[3]=r[3]+n[3]*a,t[4]=r[4]+n[4]*a,t[5]=r[5]+n[5]*a,t}function _(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]}function y(t,r){var n=t[0],a=t[1],e=t[2],o=t[3],u=t[4],i=t[5],s=r[0],c=r[1],f=r[2],h=r[3],l=r[4],M=r[5];return Math.abs(n-s)<=O.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-c)<=O.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(e-f)<=O.EPSILON*Math.max(1,Math.abs(e),Math.abs(f))&&Math.abs(o-h)<=O.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(u-l)<=O.EPSILON*Math.max(1,Math.abs(u),Math.abs(l))&&Math.abs(i-M)<=O.EPSILON*Math.max(1,Math.abs(i),Math.abs(M))}Object.defineProperty(r,"__esModule",{value:!0}),r.sub=r.mul=void 0,r.create=e,r.clone=o,r.copy=u,r.identity=i,r.fromValues=s,r.set=c,r.invert=f,r.determinant=h,r.multiply=l,r.rotate=M,r.scale=v,r.translate=d,r.fromRotation=m,r.fromScaling=E,r.fromTranslation=b,r.str=A,r.frob=p,r.add=R,r.subtract=P,r.multiplyScalar=T,r.multiplyScalarAndAdd=g,r.exactEquals=_,r.equals=y;var x=n(0),O=a(x);r.mul=l,r.sub=P},function(t,r,n){"use strict";function a(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.default=t,r}function e(){var t=new F.ARRAY_TYPE(8);return F.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function o(t){var r=new F.ARRAY_TYPE(8);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r}function u(t,r,n,a,e,o,u,i){var s=new F.ARRAY_TYPE(8);return s[0]=t,s[1]=r,s[2]=n,s[3]=a,s[4]=e,s[5]=o,s[6]=u,s[7]=i,s}function i(t,r,n,a,e,o,u){var i=new F.ARRAY_TYPE(8);i[0]=t,i[1]=r,i[2]=n,i[3]=a;var s=.5*e,c=.5*o,f=.5*u;return i[4]=s*a+c*n-f*r,i[5]=c*a+f*t-s*n,i[6]=f*a+s*r-c*t,i[7]=-s*t-c*r-f*n,i}function s(t,r,n){var a=.5*n[0],e=.5*n[1],o=.5*n[2],u=r[0],i=r[1],s=r[2],c=r[3];return t[0]=u,t[1]=i,t[2]=s,t[3]=c,t[4]=a*c+e*s-o*i,t[5]=e*c+o*u-a*s,t[6]=o*c+a*i-e*u,t[7]=-a*u-e*i-o*s,t}function c(t,r){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*r[0],t[5]=.5*r[1],t[6]=.5*r[2],t[7]=0,t}function f(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function h(t,r){var n=B.create();z.getRotation(n,r);var a=new F.ARRAY_TYPE(3);return z.getTranslation(a,r),s(t,n,a),t}function l(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t}function M(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function v(t,r,n,a,e,o,u,i,s){return t[0]=r,t[1]=n,t[2]=a,t[3]=e,t[4]=o,t[5]=u,t[6]=i,t[7]=s,t}function d(t,r){return t[0]=r[4],t[1]=r[5],t[2]=r[6],t[3]=r[7],t}function m(t,r){return t[4]=r[0],t[5]=r[1],t[6]=r[2],t[7]=r[3],t}function E(t,r){var n=r[4],a=r[5],e=r[6],o=r[7],u=-r[0],i=-r[1],s=-r[2],c=r[3];return t[0]=2*(n*c+o*u+a*s-e*i),t[1]=2*(a*c+o*i+e*u-n*s),t[2]=2*(e*c+o*s+n*i-a*u),t}function b(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=.5*n[0],s=.5*n[1],c=.5*n[2],f=r[4],h=r[5],l=r[6],M=r[7];return t[0]=a,t[1]=e,t[2]=o,t[3]=u,t[4]=u*i+e*c-o*s+f,t[5]=u*s+o*i-a*c+h,t[6]=u*c+a*s-e*i+l,t[7]=-a*i-e*s-o*c+M,t}function A(t,r,n){var a=-r[0],e=-r[1],o=-r[2],u=r[3],i=r[4],s=r[5],c=r[6],f=r[7],h=i*u+f*a+s*o-c*e,l=s*u+f*e+c*a-i*o,M=c*u+f*o+i*e-s*a,v=f*u-i*a-s*e-c*o;return B.rotateX(t,r,n),a=t[0],e=t[1],o=t[2],u=t[3],t[4]=h*u+v*a+l*o-M*e,t[5]=l*u+v*e+M*a-h*o,t[6]=M*u+v*o+h*e-l*a,t[7]=v*u-h*a-l*e-M*o,t}function p(t,r,n){var a=-r[0],e=-r[1],o=-r[2],u=r[3],i=r[4],s=r[5],c=r[6],f=r[7],h=i*u+f*a+s*o-c*e,l=s*u+f*e+c*a-i*o,M=c*u+f*o+i*e-s*a,v=f*u-i*a-s*e-c*o;return B.rotateY(t,r,n),a=t[0],e=t[1],o=t[2],u=t[3],t[4]=h*u+v*a+l*o-M*e,t[5]=l*u+v*e+M*a-h*o,t[6]=M*u+v*o+h*e-l*a,t[7]=v*u-h*a-l*e-M*o,t}function R(t,r,n){var a=-r[0],e=-r[1],o=-r[2],u=r[3],i=r[4],s=r[5],c=r[6],f=r[7],h=i*u+f*a+s*o-c*e,l=s*u+f*e+c*a-i*o,M=c*u+f*o+i*e-s*a,v=f*u-i*a-s*e-c*o;return B.rotateZ(t,r,n),a=t[0],e=t[1],o=t[2],u=t[3],t[4]=h*u+v*a+l*o-M*e,t[5]=l*u+v*e+M*a-h*o,t[6]=M*u+v*o+h*e-l*a,t[7]=v*u-h*a-l*e-M*o,t}function P(t,r,n){var a=n[0],e=n[1],o=n[2],u=n[3],i=r[0],s=r[1],c=r[2],f=r[3];return t[0]=i*u+f*a+s*o-c*e,t[1]=s*u+f*e+c*a-i*o,t[2]=c*u+f*o+i*e-s*a,t[3]=f*u-i*a-s*e-c*o,i=r[4],s=r[5],c=r[6],f=r[7],t[4]=i*u+f*a+s*o-c*e,t[5]=s*u+f*e+c*a-i*o,t[6]=c*u+f*o+i*e-s*a,t[7]=f*u-i*a-s*e-c*o,t}function T(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=n[0],s=n[1],c=n[2],f=n[3];return t[0]=a*f+u*i+e*c-o*s,t[1]=e*f+u*s+o*i-a*c,t[2]=o*f+u*c+a*s-e*i,t[3]=u*f-a*i-e*s-o*c,i=n[4],s=n[5],c=n[6],f=n[7],t[4]=a*f+u*i+e*c-o*s,t[5]=e*f+u*s+o*i-a*c,t[6]=o*f+u*c+a*s-e*i,t[7]=u*f-a*i-e*s-o*c,t}function g(t,r,n,a){if(Math.abs(a)<F.EPSILON)return l(t,r);var e=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);a*=.5;var o=Math.sin(a),u=o*n[0]/e,i=o*n[1]/e,s=o*n[2]/e,c=Math.cos(a),f=r[0],h=r[1],M=r[2],v=r[3];t[0]=f*c+v*u+h*s-M*i,t[1]=h*c+v*i+M*u-f*s,t[2]=M*c+v*s+f*i-h*u,t[3]=v*c-f*u-h*i-M*s;var d=r[4],m=r[5],E=r[6],b=r[7];return t[4]=d*c+b*u+m*s-E*i,t[5]=m*c+b*i+E*u-d*s,t[6]=E*c+b*s+d*i-m*u,t[7]=b*c-d*u-m*i-E*s,t}function _(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t[4]=r[4]+n[4],t[5]=r[5]+n[5],t[6]=r[6]+n[6],t[7]=r[7]+n[7],t}function y(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=n[4],s=n[5],c=n[6],f=n[7],h=r[4],l=r[5],M=r[6],v=r[7],d=n[0],m=n[1],E=n[2],b=n[3];return t[0]=a*b+u*d+e*E-o*m,t[1]=e*b+u*m+o*d-a*E,t[2]=o*b+u*E+a*m-e*d,t[3]=u*b-a*d-e*m-o*E,t[4]=a*f+u*i+e*c-o*s+h*b+v*d+l*E-M*m,t[5]=e*f+u*s+o*i-a*c+l*b+v*m+M*d-h*E,t[6]=o*f+u*c+a*s-e*i+M*b+v*E+h*m-l*d,t[7]=u*f-a*i-e*s-o*c+v*b-h*d-l*m-M*E,t}function x(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*n,t[5]=r[5]*n,t[6]=r[6]*n,t[7]=r[7]*n,t}function O(t,r,n,a){var e=1-a;return C(r,n)<0&&(a=-a),t[0]=r[0]*e+n[0]*a,t[1]=r[1]*e+n[1]*a,t[2]=r[2]*e+n[2]*a,t[3]=r[3]*e+n[3]*a,t[4]=r[4]*e+n[4]*a,t[5]=r[5]*e+n[5]*a,t[6]=r[6]*e+n[6]*a,t[7]=r[7]*e+n[7]*a,t}function L(t,r){var n=V(r);return t[0]=-r[0]/n,t[1]=-r[1]/n,t[2]=-r[2]/n,t[3]=r[3]/n,t[4]=-r[4]/n,t[5]=-r[5]/n,t[6]=-r[6]/n,t[7]=r[7]/n,t}function S(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t[4]=-r[4],t[5]=-r[5],t[6]=-r[6],t[7]=r[7],t}function N(t,r){var n=V(r);if(n>0){n=Math.sqrt(n);var a=r[0]/n,e=r[1]/n,o=r[2]/n,u=r[3]/n,i=r[4],s=r[5],c=r[6],f=r[7],h=a*i+e*s+o*c+u*f;t[0]=a,t[1]=e,t[2]=o,t[3]=u,t[4]=(i-a*h)/n,t[5]=(s-e*h)/n,t[6]=(c-o*h)/n,t[7]=(f-u*h)/n}return t}function I(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function Y(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]}function w(t,r){var n=t[0],a=t[1],e=t[2],o=t[3],u=t[4],i=t[5],s=t[6],c=t[7],f=r[0],h=r[1],l=r[2],M=r[3],v=r[4],d=r[5],m=r[6],E=r[7];return Math.abs(n-f)<=F.EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(a-h)<=F.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(e-l)<=F.EPSILON*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(o-M)<=F.EPSILON*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(u-v)<=F.EPSILON*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(i-d)<=F.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(s-m)<=F.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(c-E)<=F.EPSILON*Math.max(1,Math.abs(c),Math.abs(E))}Object.defineProperty(r,"__esModule",{value:!0}),r.sqrLen=r.squaredLength=r.len=r.length=r.dot=r.mul=r.setReal=r.getReal=void 0,r.create=e,r.clone=o,r.fromValues=u,r.fromRotationTranslationValues=i,r.fromRotationTranslation=s,r.fromTranslation=c,r.fromRotation=f,r.fromMat4=h,r.copy=l,r.identity=M,r.set=v,r.getDual=d,r.setDual=m,r.getTranslation=E,r.translate=b,r.rotateX=A,r.rotateY=p,r.rotateZ=R,r.rotateByQuatAppend=P,r.rotateByQuatPrepend=T,r.rotateAroundAxis=g,r.add=_,r.multiply=y,r.scale=x,r.lerp=O,r.invert=L,r.conjugate=S,r.normalize=N,r.str=I,r.exactEquals=Y,r.equals=w;var q=n(0),F=a(q),D=n(9),B=a(D),j=n(8),z=a(j),C=(r.getReal=B.copy,r.setReal=B.copy,r.mul=y,r.dot=B.dot),U=r.length=B.length,V=(r.len=U,r.squaredLength=B.squaredLength);r.sqrLen=V},function(t,r,n){"use strict";function a(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.default=t,r}function e(){var t=new C.ARRAY_TYPE(2);return C.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t){var r=new C.ARRAY_TYPE(2);return r[0]=t[0],r[1]=t[1],r}function u(t,r){var n=new C.ARRAY_TYPE(2);return n[0]=t,n[1]=r,n}function i(t,r){return t[0]=r[0],t[1]=r[1],t}function s(t,r,n){return t[0]=r,t[1]=n,t}function c(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t}function f(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t}function h(t,r,n){return t[0]=r[0]*n[0],t[1]=r[1]*n[1],t}function l(t,r,n){return t[0]=r[0]/n[0],t[1]=r[1]/n[1],t}function M(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t}function v(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t}function d(t,r,n){return t[0]=Math.min(r[0],n[0]),t[1]=Math.min(r[1],n[1]),t}function m(t,r,n){return t[0]=Math.max(r[0],n[0]),t[1]=Math.max(r[1],n[1]),t}function E(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t}function b(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t}function A(t,r,n,a){return t[0]=r[0]+n[0]*a,t[1]=r[1]+n[1]*a,t}function p(t,r){var n=r[0]-t[0],a=r[1]-t[1];return Math.sqrt(n*n+a*a)}function R(t,r){var n=r[0]-t[0],a=r[1]-t[1];return n*n+a*a}function P(t){var r=t[0],n=t[1];return Math.sqrt(r*r+n*n)}function T(t){var r=t[0],n=t[1];return r*r+n*n}function g(t,r){return t[0]=-r[0],t[1]=-r[1],t}function _(t,r){return t[0]=1/r[0],t[1]=1/r[1],t}function y(t,r){var n=r[0],a=r[1],e=n*n+a*a;return e>0&&(e=1/Math.sqrt(e),t[0]=r[0]*e,t[1]=r[1]*e),t}function x(t,r){return t[0]*r[0]+t[1]*r[1]}function O(t,r,n){var a=r[0]*n[1]-r[1]*n[0];return t[0]=t[1]=0,t[2]=a,t}function L(t,r,n,a){var e=r[0],o=r[1];return t[0]=e+a*(n[0]-e),t[1]=o+a*(n[1]-o),t}function S(t,r){r=r||1;var n=2*C.RANDOM()*Math.PI;return t[0]=Math.cos(n)*r,t[1]=Math.sin(n)*r,t}function N(t,r,n){var a=r[0],e=r[1];return t[0]=n[0]*a+n[2]*e,t[1]=n[1]*a+n[3]*e,t}function I(t,r,n){var a=r[0],e=r[1];return t[0]=n[0]*a+n[2]*e+n[4],t[1]=n[1]*a+n[3]*e+n[5],t}function Y(t,r,n){var a=r[0],e=r[1];return t[0]=n[0]*a+n[3]*e+n[6],t[1]=n[1]*a+n[4]*e+n[7],t}function w(t,r,n){var a=r[0],e=r[1];return t[0]=n[0]*a+n[4]*e+n[12],t[1]=n[1]*a+n[5]*e+n[13],t}function q(t,r,n,a){var e=r[0]-n[0],o=r[1]-n[1],u=Math.sin(a),i=Math.cos(a);return t[0]=e*i-o*u+n[0],t[1]=e*u+o*i+n[1],t}function F(t,r){var n=t[0],a=t[1],e=r[0],o=r[1],u=n*n+a*a;u>0&&(u=1/Math.sqrt(u));var i=e*e+o*o;i>0&&(i=1/Math.sqrt(i));var s=(n*e+a*o)*u*i;return s>1?0:s<-1?Math.PI:Math.acos(s)}function D(t){return"vec2("+t[0]+", "+t[1]+")"}function B(t,r){return t[0]===r[0]&&t[1]===r[1]}function j(t,r){var n=t[0],a=t[1],e=r[0],o=r[1];return Math.abs(n-e)<=C.EPSILON*Math.max(1,Math.abs(n),Math.abs(e))&&Math.abs(a-o)<=C.EPSILON*Math.max(1,Math.abs(a),Math.abs(o))}Object.defineProperty(r,"__esModule",{value:!0}),r.forEach=r.sqrLen=r.sqrDist=r.dist=r.div=r.mul=r.sub=r.len=void 0,r.create=e,r.clone=o,r.fromValues=u,r.copy=i,r.set=s,r.add=c,r.subtract=f,r.multiply=h,r.divide=l,r.ceil=M,r.floor=v,r.min=d,r.max=m,r.round=E,r.scale=b,r.scaleAndAdd=A,r.distance=p,r.squaredDistance=R,r.length=P,r.squaredLength=T,r.negate=g,r.inverse=_,r.normalize=y,r.dot=x,r.cross=O,r.lerp=L,r.random=S,r.transformMat2=N,r.transformMat2d=I,r.transformMat3=Y,r.transformMat4=w,r.rotate=q,r.angle=F,r.str=D,r.exactEquals=B,r.equals=j;var z=n(0),C=a(z);r.len=P,r.sub=f,r.mul=h,r.div=l,r.dist=p,r.sqrDist=R,r.sqrLen=T,r.forEach=function(){var t=e();return function(r,n,a,e,o,u){var i=void 0,s=void 0;for(n||(n=2),a||(a=0),s=e?Math.min(e*n+a,r.length):r.length,i=a;i<s;i+=n)t[0]=r[i],t[1]=r[i+1],o(t,t,u),r[i]=t[0],r[i+1]=t[1];return r}}()},function(t,r,n){"use strict";function a(t){if(Array.isArray(t)){for(var r=0,n=Array(t.length);r<t.length;r++)n[r]=t[r];return n}return Array.from(t)}var e=function(t){var r=[{type:t.FLOAT_VEC3,access:"uniform3fv"},{type:t.FLOAT_VEC2,access:"uniform2fv"},{type:t.FLOAT_MAT4,access:"uniformMatrix4fv"},{type:t.SAMPLER_2D,access:"uniform1i"},{type:t.INT,access:"uniform1i"},{type:t.FLOAT,access:"uniform1f"},{type:t.BOOL,access:"uniform1i"}],n=function(n,a){r.forEach(function(r){var e=n.name.replace(/\[\d+\]$/g,"");e&&(e="number"==typeof a?e+"["+a+"]":e,r.type==n.type&&(i[e]={location:t.getUniformLocation(u,e),access:r.access}))})},e=function(){for(var r=t.getProgramParameter(u,t.ACTIVE_UNIFORMS),a=0;a<r;a++){var e=t.getActiveUniform(u,a);if(e.size>1)for(var o=0;o<e.size;o++)n(e,o);else n(e)}},o=function(){for(var r=t.getProgramParameter(u,t.ACTIVE_ATTRIBUTES),n=0;n<r;n++){var a=t.getActiveAttrib(u,n),e=a.name;s[e]=t.getAttribLocation(u,e)}},u=t.createProgram(),i={},s={};return Object.create({attach:function(r){t.attachShader(u,r.id)},link:function(){if(t.linkProgram(u),o(),e(),!t.getProgramParameter(u,t.LINK_STATUS))throw""+t.getProgramInfoLog(u)},use:function(){t.useProgram(u)},delete:function(){t.deleteProgram(u)},setUniform:function(r,n){var e=i[r]||{},o=e.access,u=e.location,s=[];o&&(s=o.indexOf("Matrix")>-1?[u,!1,n]:[u,n],t[o].apply(t,a(s)))}},{attributes:{get:function(){return s}}})};t.exports={Program:e}},function(t,r,n){"use strict";function a(t){var r=t.fov,n=t.aspect,a=t.near,e=t.far,u=o();return Object.create({transformation:u,perspective:function(){var t=i.create();return i.perspective(t,r,n,a,e),t},view:function(){var t=i.create();return i.invert(t,u.matrix),t},lookAt:function(t){var r=i.create();return i.lookAt(r,u.translation,t,[0,1,0]),r}},{fov:{set:function(t){r=t},get:function(){return r}},aspect:{set:function(t){n=t},get:function(){return n}},near:{set:function(t){a=t},get:function(){return a}},far:{set:function(t){e=t},get:function(){return e}}})}var e=n(4),o=e.Transformation,u=n(5),i=u.mat4;t.exports={Camera:a}},function(t,r,n){"use strict";function a(t){var r=t.gl,n=t.format,a=t.internalFormat,e=t.type;return{target:r.TEXTURE_2D,format:n,internalFormat:a,type:e,data:null,parametersi:[{name:r.TEXTURE_MIN_FILTER,value:r.NEAREST},{name:r.TEXTURE_MAG_FILTER,value:r.NEAREST},{name:r.TEXTURE_WRAP_S,value:r.CLAMP_TO_EDGE},{name:r.TEXTURE_WRAP_T,value:r.CLAMP_TO_EDGE}]}}t.exports={FramebufferTextureConfig:a}},function(t,r,n){"use strict";function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o(),r={color:[0,0,0]};return Object.create({transformation:t,view:function(r){var n=i.create();return i.lookAt(n,t.translation,r,[0,1,0]),n}},{shadow:{get:function(){return r}}})}var e=n(4),o=e.Transformation,u=n(5),i=u.mat4;t.exports={Light:a}},function(t,r,n){"use strict";function a(t,r,n){var a=t.gl,e=t.Buffer,u=function(){var t=e(a.ARRAY_BUFFER),r=new Float32Array([-1,-1,0,0,0,-1,1,0,0,1,1,-1,0,1,0,1,1,0,1,1]);return t.data({usage:a.STATIC_DRAW,size:4,offset:0,data:r}),t.addAttribute("position",{size:3,type:a.FLOAT,normalized:!1,stride:5*Float32Array.BYTES_PER_ELEMENT,offset:0}),t.addAttribute("texture",{size:2,type:a.FLOAT,normalized:!1,stride:5*Float32Array.BYTES_PER_ELEMENT,offset:3*Float32Array.BYTES_PER_ELEMENT}),t},i=function(){return{target:a.TEXTURE_2D,format:a.RGBA,internalFormat:a.RGBA,type:a.UNSIGNED_BYTE,width:r,height:n,data:null,parametersi:[{name:a.TEXTURE_MIN_FILTER,value:a.NEAREST},{name:a.TEXTURE_MAG_FILTER,value:a.NEAREST},{name:a.TEXTURE_WRAP_S,value:a.CLAMP_TO_EDGE},{name:a.TEXTURE_WRAP_T,value:a.CLAMP_TO_EDGE}]}},s=o(t,r,n),c=u(),f=[];return Object.create({passes:function(t){f=t,f.forEach(function(t,r){var n=t.textures,e=void 0===n?[]:n,o=t.program,u=t.callback;s.add(a.COLOR_ATTACHMENT0,i(),function(){o.use();var t=[];r&&t.push(s.framebuffer.attachment(a.COLOR_ATTACHMENT0)),t=t.concat(e),t.forEach(function(t,r){t.bind(r),o.setUniform("texture"+r,r)}),u&&u(o),c.setVertexAttribPointer(o.attributes),c.draw({mode:a.TRIANGLE_STRIP})})})},run:function(){s.run([0,0,0,0])}},{framebuffer:{get:function(){return s.framebuffer}}})}var e=n(17),o=e.PassPipeline;t.exports={PostProcessor:a}},function(t,r,n){"use strict";function a(t){var r=t.context,n=t.vertex,a=t.fragment,e=r.gl,o=r.Shader,u=r.Program,i=o(e.VERTEX_SHADER),s=o(e.FRAGMENT_SHADER),c=u();return i.source=n,s.source=a,i.compile(),s.compile(),c.attach(i),c.attach(s),c.link(),Object.assign(c,{setUniforms:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(t).forEach(function(r){var n=t[r];c.setUniform(r,n)})}})}t.exports={Program:a}},function(t,r,n){"use strict";function a(t){var r=t.gl,n=t.Buffer,a=t.Shader,e=t.Program,o=t.glslVersion,u=function(){var t=n(r.ARRAY_BUFFER),a=new Float32Array([-1,-1,0,0,0,-1,1,0,0,1,1,-1,0,1,0,1,1,0,1,1]);return t.data({usage:r.STATIC_DRAW,size:4,offset:0,data:a}),t.addAttribute("position",{size:3,type:r.FLOAT,normalized:!1,stride:5*Float32Array.BYTES_PER_ELEMENT,offset:0}),t.addAttribute("texture",{size:2,type:r.FLOAT,normalized:!1,stride:5*Float32Array.BYTES_PER_ELEMENT,offset:3*Float32Array.BYTES_PER_ELEMENT}),t},i=function(){r.clearColor(0,0,1,1),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT)},s=[],c=e(),f=u(),h=a(r.VERTEX_SHADER,o),l=a(r.FRAGMENT_SHADER,o);return h.source="\n\t\t\tprecision highp float;\n\n\t\t\tattribute vec3 position;\n\t\t\tattribute vec2 texture;\n\n\t\t\tuniform mat4 model;\n\n\t\t\tvarying vec2 texture_;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_Position = model * vec4(position, 1.0);\n\t\t\t\ttexture_ = texture;\n\n\t\t\t}\n\t\t",l.source="\n\t\t\tprecision highp float;\n\n\t\t\tvarying vec2 texture_;\n\n\t\t\tuniform sampler2D texture0;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = texture2D(texture0, texture_);\n\n\t\t\t} \n\t\t",h.compile(),l.compile(),c.attach(h),c.attach(l),c.link(),Object.create({addScreen:function(t){var r=t.texture,n=t.matrix;s.push({texture:r,matrix:n})},render:function(){r.bindFramebuffer(r.FRAMEBUFFER,null),i(),c.use(),s.forEach(function(t){var n=t.texture,a=t.matrix;c.setUniform("model",a),n.bind(),c.setUniform("texture0",0),f.setVertexAttribPointer(c.attributes),f.draw({mode:r.TRIANGLE_STRIP})})}})}t.exports={View:a}},function(t,r,n){"use strict";var a=n(12),e=a.Buffer,o=n(13),u=o.Framebuffer,i=n(14),s=i.Renderbuffer,c=n(16),f=c.Texture,h=n(31),l=h.Program,M=n(15),v=M.Shader,d=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=function(t,r){for(var n=arguments.length,a=Array(n>2?n-2:0),e=2;e<n;e++)a[e-2]=arguments[e];var o=r.apply(void 0,[i].concat(a,[c.method]));return h[t].push(o),o},o=function(t,r,n){var a=null;return r.forEach(function(r){a||(a=t.getContext(r,n))}),a},i=o(t,r,n),c=m(i),h={buffer:[],framebuffer:[],renderbuffer:[],texture:[],program:[],shader:[]};if(!i)return i;var M={version:i.getParameter(i.VERSION),shadingLanguageVersion:i.getParameter(i.SHADING_LANGUAGE_VERSION),vendor:i.getParameter(i.VENDOR),abridged:{version:function(){return M.version.match(/webgl\s(\d[.]\d|\d)/i)[1]},shadingLanguageVersion:function(){return M.shadingLanguageVersion.match(/webgl\sglsl\ses\s(\d[.]\d+|\d+)/i)[1]}}};return Object.create({Buffer:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return a.apply(void 0,["buffer",e].concat(r))},Framebuffer:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return a.apply(void 0,["framebuffer",u].concat(r))},Renderbuffer:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return a.apply(void 0,["renderbuffer",s].concat(r))},Texture:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return a.apply(void 0,["texture",f].concat(r))},Program:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return a.apply(void 0,["program",l].concat(r))},Shader:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return a.apply(void 0,["shader",v].concat(r,[M.abridged.shadingLanguageVersion()]))},delete:function(){for(var t in h)h[t].forEach(function(t){t.delete()})}},{gl:{get:function(){return i}},version:{get:M.abridged.version},glslVersion:{get:M.abridged.shadingLanguageVersion},vendor:{get:function(){return M.vendor}},canvas:{get:function(){return t}}})},m=function(t){var r={},n={drawArraysInstancedANGLE:"ANGLE_instanced_arrays",drawElementsInstancedANGLE:"ANGLE_instanced_arrays",vertexAttribDivisorANGLE:"ANGLE_instanced_arrays"};return Object.create({method:function(a){for(var e=arguments.length,o=Array(e>1?e-1:0),u=1;u<e;u++)o[u-1]=arguments[u];var i=n[a];r[i]||(r[i]=t.getExtension(i)),r[i][a].apply(r[i],o)}})};t.exports={Context:d}},function(t,r,n){"use strict";t.exports={Transformation:n(4).Transformation,Timer:n(43).Timer,math:n(20).math,Buffer:n(12).Buffer,Framebuffer:n(13).Framebuffer,Renderbuffer:n(14).Renderbuffer,Texture:n(16).Texture,Shader:n(15).Shader,Program:n(36).Program,Mesh:n(3).Mesh,Model:n(2).Model,View:n(37).View,Light:n(34).Light,Camera:n(32).Camera,PassPipeline:n(17).PassPipeline,PostProcessor:n(35).PostProcessor,FramebufferTextureConfig:n(33).FramebufferTextureConfig,Plane:n(6).Plane,PlaneBuffer:n(6).PlaneBuffer,Sphere:n(19).Sphere,SphereBuffer:n(19).SphereBuffer,Cube:n(41).Cube,Cone:n(40).Cone,Cylinder:n(18).Cylinder,Path:n(42).Path,Context:n(38).Context}},function(t,r,n){"use strict";function a(t){if(Array.isArray(t)){for(var r=0,n=Array(t.length);r<t.length;r++)n[r]=t[r];return n}return Array.from(t)}var e=n(2),o=e.Model,u=n(18),i=u.Band,s=u.BodyMesh,c=u.CapMesh,f=function(t){var r=t.context,n=t.res,e=t.height,u=t.taper,f=void 0===u?1:u,h=t.segments,l=void 0===h?1:h,M=t.buffer,v=void 0===M?function(t){return t}:M,d=function(t){return 1-t/l*(1-f)},m=o(),E=[],b=[];e/=l;for(var A=0;A<l;A++){var p,R=d(A),P=i({origin:[0,0,A*e],radius:[R,R],segIndex:A,taper:d(A+1)/R,height:e,res:n});(p=E).push.apply(p,a(P.vertices)),b.push.apply(b,a(P.indices))}E=v(E),m.addMesh("body",s({context:r,vertices:E,indices:b}));for(var T=0;T<2;T++)m.addMesh(T?"bottomCap":"topCap",c({context:r,origin:[0,0,T?0:l*e],radius:T?[1,1]:[f,f],facingTop:!T,res:n}));return m};t.exports={Cone:f}},function(t,r,n){"use strict";function a(t){if(Array.isArray(t)){for(var r=0,n=Array(t.length);r<t.length;r++)n[r]=t[r];return n}return Array.from(t)}var e=n(3),o=e.Mesh,u=n(2),i=u.Model,s=n(4),c=s.Transformation,f=n(6),h=f.PlaneBuffer,l=n(5),M=l.vec3,v=function(t){var r=t.context,n=t.res,e=void 0===n?2:n,u=r.gl,s=r.Buffer,f=c(),l={vertex:[],index:[]};[{translation:[0,0,-.5],rotation:[0,0,0]},{translation:[-.5,0,0],rotation:[0,-90,0]},{translation:[0,0,.5],rotation:[0,-180,0]},{translation:[.5,0,0],rotation:[0,90,0]},{translation:[0,.5,0],rotation:[90,0,0]},{translation:[0,-.5,0],rotation:[90,0,0]}].forEach(function(t,r){var n,o=t.translation,u=t.rotation,i=h(e,e);f.translation=o,f.rotation=u;for(var s=0;s<i.vertices.length;s+=8){var c,v=i.vertices.slice(s,s+3);(c=l.vertex).push.apply(c,a(M.transformMat4(M.create(),v,f.matrix)).concat(a(i.vertices.slice(s+3,s+8))))}var d=Math.max.apply(Math,a(i.indices));(n=l.index).push.apply(n,a(i.indices.map(function(t){return t+(d*r+d)})))});var v=s(u.ARRAY_BUFFER),d=s(u.ELEMENT_ARRAY_BUFFER);v.data({usage:u.STATIC_DRAW,offset:0,size:l.vertex.length/8,data:new Float32Array(l.vertex)}),v.addAttribute("position",{size:3,type:u.FLOAT,normalized:!1,stride:8*Float32Array.BYTES_PER_ELEMENT,offset:0}),v.addAttribute("normal",{size:3,type:u.FLOAT,normalized:!1,stride:8*Float32Array.BYTES_PER_ELEMENT,offset:3*Float32Array.BYTES_PER_ELEMENT}),v.addAttribute("texture",{size:2,type:u.FLOAT,normalized:!1,stride:8*Float32Array.BYTES_PER_ELEMENT,offset:6*Float32Array.BYTES_PER_ELEMENT}),d.data({usage:u.STATIC_DRAW,offset:0,size:l.index.length,data:new Uint16Array(l.index)});var m=o(u);m.mode=u.TRIANGLES,m.update(function(t){t.push(v,d)});var E=i();return E.addMesh("cube",m),E};t.exports={Cube:v}},function(t,r,n){"use strict";var a=n(3),e=a.Mesh,o=n(2),u=o.Model,i=function(t){var r=t.context,n=t.vertices,a=void 0===n?[]:n,o=r.gl,i=r.Buffer,s=e(o),c=u();return s.mode=o.LINE_LOOP,s.update(function(t){var r=i(o.ARRAY_BUFFER);r.data({usage:o.STATIC_DRAW,offset:0,size:a.length/3,data:new Float32Array(a)}),r.addAttribute("position",{size:3,type:o.FLOAT,normalized:!1,stride:3*Float32Array.BYTES_PER_ELEMENT,offset:0}),t.push(r)}),c.addMesh("path",s),c};t.exports={Path:i}},function(t,r,n){"use strict";function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:24,r=void 0,n=!1;return Object.create({run:function(a){n=!1;var e=void 0,o=0,u=0,i=1e3/t,s=function t(s){n||(e||(e=s),o=s-e,o-i*u>i&&(u++,a(o,u)),r=requestAnimationFrame(t))};r=requestAnimationFrame(s)},stop:function(){n=!0,cancelAnimationFrame(r)}},{fps:{set:function(r){t=r}},running:{get:function(){return!n}}})}t.exports={Timer:a}},function(t,r,n){"use strict";function a(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.default=t,r}Object.defineProperty(r,"__esModule",{value:!0}),r.vec4=r.vec3=r.vec2=r.quat2=r.quat=r.mat4=r.mat3=r.mat2d=r.mat2=r.glMatrix=void 0;var e=n(1),o=a(e),u=n(45),i=a(u),s=n(46),c=a(s),f=n(21),h=a(f),l=n(22),M=a(l),v=n(23),d=a(v),m=n(47),E=a(m),b=n(48),A=a(b),p=n(24),R=a(p),P=n(25),T=a(P);r.glMatrix=o,r.mat2=i,r.mat2d=c,r.mat3=h,r.mat4=M,r.quat=d,r.quat2=E,r.vec2=A,r.vec3=R,r.vec4=T},function(t,r,n){"use strict";function a(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.default=t,r}function e(){var t=new L.ARRAY_TYPE(4);return L.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function o(t){var r=new L.ARRAY_TYPE(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}function u(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}function i(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function s(t,r,n,a){var e=new L.ARRAY_TYPE(4);return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e}function c(t,r,n,a,e){return t[0]=r,t[1]=n,t[2]=a,t[3]=e,t}function f(t,r){if(t===r){var n=r[1];t[1]=r[2],t[2]=n}else t[0]=r[0],t[1]=r[2],t[2]=r[1],t[3]=r[3];return t}function h(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=n*o-e*a;return u?(u=1/u,t[0]=o*u,t[1]=-a*u,t[2]=-e*u,t[3]=n*u,t):null}function l(t,r){var n=r[0];return t[0]=r[3],t[1]=-r[1],t[2]=-r[2],t[3]=n,t}function M(t){return t[0]*t[3]-t[2]*t[1]}function v(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=n[0],s=n[1],c=n[2],f=n[3];return t[0]=a*i+o*s,t[1]=e*i+u*s,t[2]=a*c+o*f,t[3]=e*c+u*f,t}function d(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=Math.sin(n),s=Math.cos(n);return t[0]=a*s+o*i,t[1]=e*s+u*i,t[2]=a*-i+o*s,t[3]=e*-i+u*s,t}function m(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=n[0],s=n[1];return t[0]=a*i,t[1]=e*i,t[2]=o*s,t[3]=u*s,t}function E(t,r){var n=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=n,t[2]=-n,t[3]=a,t}function b(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t}function A(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function p(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function R(t,r,n,a){return t[2]=a[2]/a[0],n[0]=a[0],n[1]=a[1],n[3]=a[3]-t[2]*n[1],[t,r,n]}function P(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t}function T(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t}function g(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]}function _(t,r){var n=t[0],a=t[1],e=t[2],o=t[3],u=r[0],i=r[1],s=r[2],c=r[3];return Math.abs(n-u)<=L.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-i)<=L.EPSILON*Math.max(1,Math.abs(a),Math.abs(i))&&Math.abs(e-s)<=L.EPSILON*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(o-c)<=L.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))}function y(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t}function x(t,r,n,a){return t[0]=r[0]+n[0]*a,t[1]=r[1]+n[1]*a,t[2]=r[2]+n[2]*a,t[3]=r[3]+n[3]*a,t}Object.defineProperty(r,"__esModule",{value:!0}),r.sub=r.mul=void 0,r.create=e,r.clone=o,r.copy=u,r.identity=i,r.fromValues=s,r.set=c,r.transpose=f,r.invert=h,r.adjoint=l,r.determinant=M,r.multiply=v,r.rotate=d,r.scale=m,r.fromRotation=E,r.fromScaling=b,r.str=A,r.frob=p,r.LDU=R,r.add=P,r.subtract=T,r.exactEquals=g,r.equals=_,r.multiplyScalar=y,r.multiplyScalarAndAdd=x;var O=n(1),L=a(O);r.mul=v,r.sub=T},function(t,r,n){"use strict";function a(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.default=t,r}function e(){var t=new O.ARRAY_TYPE(6);return O.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function o(t){var r=new O.ARRAY_TYPE(6);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r}function u(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t}function i(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function s(t,r,n,a,e,o){var u=new O.ARRAY_TYPE(6);return u[0]=t,u[1]=r,u[2]=n,u[3]=a,u[4]=e,u[5]=o,u}function c(t,r,n,a,e,o,u){return t[0]=r,t[1]=n,t[2]=a,t[3]=e,t[4]=o,t[5]=u,t}function f(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],i=r[5],s=n*o-a*e;return s?(s=1/s,t[0]=o*s,t[1]=-a*s,t[2]=-e*s,t[3]=n*s,t[4]=(e*i-o*u)*s,t[5]=(a*u-n*i)*s,t):null}function h(t){return t[0]*t[3]-t[1]*t[2]}function l(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=r[4],s=r[5],c=n[0],f=n[1],h=n[2],l=n[3],M=n[4],v=n[5];return t[0]=a*c+o*f,t[1]=e*c+u*f,t[2]=a*h+o*l,t[3]=e*h+u*l,t[4]=a*M+o*v+i,t[5]=e*M+u*v+s,t}function M(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=r[4],s=r[5],c=Math.sin(n),f=Math.cos(n);return t[0]=a*f+o*c,t[1]=e*f+u*c,t[2]=a*-c+o*f,t[3]=e*-c+u*f,t[4]=i,t[5]=s,t}function v(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=r[4],s=r[5],c=n[0],f=n[1];return t[0]=a*c,t[1]=e*c,t[2]=o*f,t[3]=u*f,t[4]=i,t[5]=s,t}function d(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=r[4],s=r[5],c=n[0],f=n[1];return t[0]=a,t[1]=e,t[2]=o,t[3]=u,t[4]=a*c+o*f+i,t[5]=e*c+u*f+s,t}function m(t,r){var n=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=n,t[2]=-n,t[3]=a,t[4]=0,t[5]=0,t}function E(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t[4]=0,t[5]=0,t}function b(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=r[0],t[5]=r[1],t}function A(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function p(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)}function R(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t[4]=r[4]+n[4],t[5]=r[5]+n[5],t}function P(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t[4]=r[4]-n[4],t[5]=r[5]-n[5],t}function T(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*n,t[5]=r[5]*n,t}function g(t,r,n,a){return t[0]=r[0]+n[0]*a,t[1]=r[1]+n[1]*a,t[2]=r[2]+n[2]*a,t[3]=r[3]+n[3]*a,t[4]=r[4]+n[4]*a,t[5]=r[5]+n[5]*a,t}function _(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]}function y(t,r){var n=t[0],a=t[1],e=t[2],o=t[3],u=t[4],i=t[5],s=r[0],c=r[1],f=r[2],h=r[3],l=r[4],M=r[5];return Math.abs(n-s)<=O.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-c)<=O.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(e-f)<=O.EPSILON*Math.max(1,Math.abs(e),Math.abs(f))&&Math.abs(o-h)<=O.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(u-l)<=O.EPSILON*Math.max(1,Math.abs(u),Math.abs(l))&&Math.abs(i-M)<=O.EPSILON*Math.max(1,Math.abs(i),Math.abs(M))}Object.defineProperty(r,"__esModule",{value:!0}),r.sub=r.mul=void 0,r.create=e,r.clone=o,r.copy=u,r.identity=i,r.fromValues=s,r.set=c,r.invert=f,r.determinant=h,r.multiply=l,r.rotate=M,r.scale=v,r.translate=d,r.fromRotation=m,r.fromScaling=E,r.fromTranslation=b,r.str=A,r.frob=p,r.add=R,r.subtract=P,r.multiplyScalar=T,r.multiplyScalarAndAdd=g,r.exactEquals=_,r.equals=y;var x=n(1),O=a(x);r.mul=l,r.sub=P},function(t,r,n){"use strict";function a(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.default=t,r}function e(){var t=new F.ARRAY_TYPE(8);return F.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function o(t){var r=new F.ARRAY_TYPE(8);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r}function u(t,r,n,a,e,o,u,i){var s=new F.ARRAY_TYPE(8);return s[0]=t,s[1]=r,s[2]=n,s[3]=a,s[4]=e,s[5]=o,s[6]=u,s[7]=i,s}function i(t,r,n,a,e,o,u){var i=new F.ARRAY_TYPE(8);i[0]=t,i[1]=r,i[2]=n,i[3]=a;var s=.5*e,c=.5*o,f=.5*u;return i[4]=s*a+c*n-f*r,i[5]=c*a+f*t-s*n,i[6]=f*a+s*r-c*t,i[7]=-s*t-c*r-f*n,i}function s(t,r,n){var a=.5*n[0],e=.5*n[1],o=.5*n[2],u=r[0],i=r[1],s=r[2],c=r[3];return t[0]=u,t[1]=i,t[2]=s,t[3]=c,t[4]=a*c+e*s-o*i,t[5]=e*c+o*u-a*s,t[6]=o*c+a*i-e*u,t[7]=-a*u-e*i-o*s,t}function c(t,r){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*r[0],t[5]=.5*r[1],t[6]=.5*r[2],t[7]=0,t}function f(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function h(t,r){var n=B.create();z.getRotation(n,r);var a=new F.ARRAY_TYPE(3);return z.getTranslation(a,r),s(t,n,a),t}function l(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t}function M(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function v(t,r,n,a,e,o,u,i,s){return t[0]=r,t[1]=n,t[2]=a,t[3]=e,t[4]=o,t[5]=u,t[6]=i,t[7]=s,t}function d(t,r){return t[0]=r[4],t[1]=r[5],t[2]=r[6],t[3]=r[7],t}function m(t,r){return t[4]=r[0],t[5]=r[1],t[6]=r[2],t[7]=r[3],t}function E(t,r){var n=r[4],a=r[5],e=r[6],o=r[7],u=-r[0],i=-r[1],s=-r[2],c=r[3];return t[0]=2*(n*c+o*u+a*s-e*i),t[1]=2*(a*c+o*i+e*u-n*s),t[2]=2*(e*c+o*s+n*i-a*u),t}function b(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=.5*n[0],s=.5*n[1],c=.5*n[2],f=r[4],h=r[5],l=r[6],M=r[7];return t[0]=a,t[1]=e,t[2]=o,t[3]=u,t[4]=u*i+e*c-o*s+f,t[5]=u*s+o*i-a*c+h,t[6]=u*c+a*s-e*i+l,t[7]=-a*i-e*s-o*c+M,t}function A(t,r,n){var a=-r[0],e=-r[1],o=-r[2],u=r[3],i=r[4],s=r[5],c=r[6],f=r[7],h=i*u+f*a+s*o-c*e,l=s*u+f*e+c*a-i*o,M=c*u+f*o+i*e-s*a,v=f*u-i*a-s*e-c*o;return B.rotateX(t,r,n),a=t[0],e=t[1],o=t[2],u=t[3],t[4]=h*u+v*a+l*o-M*e,t[5]=l*u+v*e+M*a-h*o,t[6]=M*u+v*o+h*e-l*a,t[7]=v*u-h*a-l*e-M*o,t}function p(t,r,n){var a=-r[0],e=-r[1],o=-r[2],u=r[3],i=r[4],s=r[5],c=r[6],f=r[7],h=i*u+f*a+s*o-c*e,l=s*u+f*e+c*a-i*o,M=c*u+f*o+i*e-s*a,v=f*u-i*a-s*e-c*o;return B.rotateY(t,r,n),a=t[0],e=t[1],o=t[2],u=t[3],t[4]=h*u+v*a+l*o-M*e,t[5]=l*u+v*e+M*a-h*o,t[6]=M*u+v*o+h*e-l*a,t[7]=v*u-h*a-l*e-M*o,t}function R(t,r,n){var a=-r[0],e=-r[1],o=-r[2],u=r[3],i=r[4],s=r[5],c=r[6],f=r[7],h=i*u+f*a+s*o-c*e,l=s*u+f*e+c*a-i*o,M=c*u+f*o+i*e-s*a,v=f*u-i*a-s*e-c*o;return B.rotateZ(t,r,n),a=t[0],e=t[1],o=t[2],u=t[3],t[4]=h*u+v*a+l*o-M*e,t[5]=l*u+v*e+M*a-h*o,t[6]=M*u+v*o+h*e-l*a,t[7]=v*u-h*a-l*e-M*o,t}function P(t,r,n){var a=n[0],e=n[1],o=n[2],u=n[3],i=r[0],s=r[1],c=r[2],f=r[3];return t[0]=i*u+f*a+s*o-c*e,t[1]=s*u+f*e+c*a-i*o,t[2]=c*u+f*o+i*e-s*a,t[3]=f*u-i*a-s*e-c*o,i=r[4],s=r[5],c=r[6],f=r[7],t[4]=i*u+f*a+s*o-c*e,t[5]=s*u+f*e+c*a-i*o,t[6]=c*u+f*o+i*e-s*a,t[7]=f*u-i*a-s*e-c*o,t}function T(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=n[0],s=n[1],c=n[2],f=n[3];return t[0]=a*f+u*i+e*c-o*s,t[1]=e*f+u*s+o*i-a*c,t[2]=o*f+u*c+a*s-e*i,t[3]=u*f-a*i-e*s-o*c,i=n[4],s=n[5],c=n[6],f=n[7],t[4]=a*f+u*i+e*c-o*s,t[5]=e*f+u*s+o*i-a*c,t[6]=o*f+u*c+a*s-e*i,t[7]=u*f-a*i-e*s-o*c,t}function g(t,r,n,a){if(Math.abs(a)<F.EPSILON)return l(t,r);var e=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);a*=.5;var o=Math.sin(a),u=o*n[0]/e,i=o*n[1]/e,s=o*n[2]/e,c=Math.cos(a),f=r[0],h=r[1],M=r[2],v=r[3];t[0]=f*c+v*u+h*s-M*i,t[1]=h*c+v*i+M*u-f*s,t[2]=M*c+v*s+f*i-h*u,t[3]=v*c-f*u-h*i-M*s;var d=r[4],m=r[5],E=r[6],b=r[7];return t[4]=d*c+b*u+m*s-E*i,t[5]=m*c+b*i+E*u-d*s,t[6]=E*c+b*s+d*i-m*u,t[7]=b*c-d*u-m*i-E*s,t}function _(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t[4]=r[4]+n[4],t[5]=r[5]+n[5],t[6]=r[6]+n[6],t[7]=r[7]+n[7],t}function y(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=n[4],s=n[5],c=n[6],f=n[7],h=r[4],l=r[5],M=r[6],v=r[7],d=n[0],m=n[1],E=n[2],b=n[3];return t[0]=a*b+u*d+e*E-o*m,t[1]=e*b+u*m+o*d-a*E,t[2]=o*b+u*E+a*m-e*d,t[3]=u*b-a*d-e*m-o*E,t[4]=a*f+u*i+e*c-o*s+h*b+v*d+l*E-M*m,t[5]=e*f+u*s+o*i-a*c+l*b+v*m+M*d-h*E,t[6]=o*f+u*c+a*s-e*i+M*b+v*E+h*m-l*d,t[7]=u*f-a*i-e*s-o*c+v*b-h*d-l*m-M*E,t}function x(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*n,t[5]=r[5]*n,t[6]=r[6]*n,t[7]=r[7]*n,t}function O(t,r,n,a){var e=1-a;return C(r,n)<0&&(a=-a),t[0]=r[0]*e+n[0]*a,t[1]=r[1]*e+n[1]*a,t[2]=r[2]*e+n[2]*a,t[3]=r[3]*e+n[3]*a,t[4]=r[4]*e+n[4]*a,t[5]=r[5]*e+n[5]*a,t[6]=r[6]*e+n[6]*a,t[7]=r[7]*e+n[7]*a,t}function L(t,r){var n=V(r);return t[0]=-r[0]/n,t[1]=-r[1]/n,t[2]=-r[2]/n,t[3]=r[3]/n,t[4]=-r[4]/n,t[5]=-r[5]/n,t[6]=-r[6]/n,t[7]=r[7]/n,t}function S(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t[4]=-r[4],t[5]=-r[5],t[6]=-r[6],t[7]=r[7],t}function N(t,r){var n=V(r);if(n>0){n=Math.sqrt(n);var a=r[0]/n,e=r[1]/n,o=r[2]/n,u=r[3]/n,i=r[4],s=r[5],c=r[6],f=r[7],h=a*i+e*s+o*c+u*f;t[0]=a,t[1]=e,t[2]=o,t[3]=u,t[4]=(i-a*h)/n,t[5]=(s-e*h)/n,t[6]=(c-o*h)/n,t[7]=(f-u*h)/n}return t}function I(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function Y(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]}function w(t,r){var n=t[0],a=t[1],e=t[2],o=t[3],u=t[4],i=t[5],s=t[6],c=t[7],f=r[0],h=r[1],l=r[2],M=r[3],v=r[4],d=r[5],m=r[6],E=r[7];return Math.abs(n-f)<=F.EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(a-h)<=F.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(e-l)<=F.EPSILON*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(o-M)<=F.EPSILON*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(u-v)<=F.EPSILON*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(i-d)<=F.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(s-m)<=F.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(c-E)<=F.EPSILON*Math.max(1,Math.abs(c),Math.abs(E))}Object.defineProperty(r,"__esModule",{value:!0}),r.sqrLen=r.squaredLength=r.len=r.length=r.dot=r.mul=r.setReal=r.getReal=void 0,r.create=e,r.clone=o,r.fromValues=u,r.fromRotationTranslationValues=i,r.fromRotationTranslation=s,r.fromTranslation=c,r.fromRotation=f,r.fromMat4=h,r.copy=l,r.identity=M,r.set=v,r.getDual=d,r.setDual=m,r.getTranslation=E,r.translate=b,r.rotateX=A,r.rotateY=p,r.rotateZ=R,r.rotateByQuatAppend=P,r.rotateByQuatPrepend=T,r.rotateAroundAxis=g,r.add=_,r.multiply=y,r.scale=x,r.lerp=O,r.invert=L,r.conjugate=S,r.normalize=N,r.str=I,r.exactEquals=Y,r.equals=w;var q=n(1),F=a(q),D=n(23),B=a(D),j=n(22),z=a(j),C=(r.getReal=B.copy,r.setReal=B.copy,r.mul=y,r.dot=B.dot),U=r.length=B.length,V=(r.len=U,r.squaredLength=B.squaredLength);r.sqrLen=V},function(t,r,n){"use strict";function a(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.default=t,r}function e(){var t=new C.ARRAY_TYPE(2);return C.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t){var r=new C.ARRAY_TYPE(2);return r[0]=t[0],r[1]=t[1],r}function u(t,r){var n=new C.ARRAY_TYPE(2);return n[0]=t,n[1]=r,n}function i(t,r){return t[0]=r[0],t[1]=r[1],t}function s(t,r,n){return t[0]=r,t[1]=n,t}function c(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t}function f(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t}function h(t,r,n){return t[0]=r[0]*n[0],t[1]=r[1]*n[1],t}function l(t,r,n){return t[0]=r[0]/n[0],t[1]=r[1]/n[1],t}function M(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t}function v(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t}function d(t,r,n){return t[0]=Math.min(r[0],n[0]),t[1]=Math.min(r[1],n[1]),t}function m(t,r,n){return t[0]=Math.max(r[0],n[0]),t[1]=Math.max(r[1],n[1]),t}function E(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t}function b(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t}function A(t,r,n,a){return t[0]=r[0]+n[0]*a,t[1]=r[1]+n[1]*a,t}function p(t,r){var n=r[0]-t[0],a=r[1]-t[1];return Math.sqrt(n*n+a*a)}function R(t,r){var n=r[0]-t[0],a=r[1]-t[1];return n*n+a*a}function P(t){var r=t[0],n=t[1];return Math.sqrt(r*r+n*n)}function T(t){var r=t[0],n=t[1];return r*r+n*n}function g(t,r){return t[0]=-r[0],t[1]=-r[1],t}function _(t,r){return t[0]=1/r[0],t[1]=1/r[1],t}function y(t,r){var n=r[0],a=r[1],e=n*n+a*a;return e>0&&(e=1/Math.sqrt(e),t[0]=r[0]*e,t[1]=r[1]*e),t}function x(t,r){return t[0]*r[0]+t[1]*r[1]}function O(t,r,n){var a=r[0]*n[1]-r[1]*n[0];return t[0]=t[1]=0,t[2]=a,t}function L(t,r,n,a){var e=r[0],o=r[1];return t[0]=e+a*(n[0]-e),t[1]=o+a*(n[1]-o),t}function S(t,r){r=r||1;var n=2*C.RANDOM()*Math.PI;return t[0]=Math.cos(n)*r,t[1]=Math.sin(n)*r,t}function N(t,r,n){var a=r[0],e=r[1];return t[0]=n[0]*a+n[2]*e,t[1]=n[1]*a+n[3]*e,t}function I(t,r,n){var a=r[0],e=r[1];return t[0]=n[0]*a+n[2]*e+n[4],t[1]=n[1]*a+n[3]*e+n[5],t}function Y(t,r,n){var a=r[0],e=r[1];return t[0]=n[0]*a+n[3]*e+n[6],t[1]=n[1]*a+n[4]*e+n[7],t}function w(t,r,n){var a=r[0],e=r[1];return t[0]=n[0]*a+n[4]*e+n[12],t[1]=n[1]*a+n[5]*e+n[13],t}function q(t,r,n,a){var e=r[0]-n[0],o=r[1]-n[1],u=Math.sin(a),i=Math.cos(a);return t[0]=e*i-o*u+n[0],t[1]=e*u+o*i+n[1],t}function F(t,r){var n=t[0],a=t[1],e=r[0],o=r[1],u=n*n+a*a;u>0&&(u=1/Math.sqrt(u));var i=e*e+o*o;i>0&&(i=1/Math.sqrt(i));var s=(n*e+a*o)*u*i;return s>1?0:s<-1?Math.PI:Math.acos(s)}function D(t){return"vec2("+t[0]+", "+t[1]+")"}function B(t,r){return t[0]===r[0]&&t[1]===r[1]}function j(t,r){var n=t[0],a=t[1],e=r[0],o=r[1];return Math.abs(n-e)<=C.EPSILON*Math.max(1,Math.abs(n),Math.abs(e))&&Math.abs(a-o)<=C.EPSILON*Math.max(1,Math.abs(a),Math.abs(o))}Object.defineProperty(r,"__esModule",{value:!0}),r.forEach=r.sqrLen=r.sqrDist=r.dist=r.div=r.mul=r.sub=r.len=void 0,r.create=e,r.clone=o,r.fromValues=u,r.copy=i,r.set=s,r.add=c,r.subtract=f,r.multiply=h,r.divide=l,r.ceil=M,r.floor=v,r.min=d,r.max=m,r.round=E,r.scale=b,r.scaleAndAdd=A,r.distance=p,r.squaredDistance=R,r.length=P,r.squaredLength=T,r.negate=g,r.inverse=_,r.normalize=y,r.dot=x,r.cross=O,r.lerp=L,r.random=S,r.transformMat2=N,r.transformMat2d=I,r.transformMat3=Y,r.transformMat4=w,r.rotate=q,r.angle=F,r.str=D,r.exactEquals=B,r.equals=j;var z=n(1),C=a(z);r.len=P,r.sub=f,r.mul=h,r.div=l,r.dist=p,r.sqrDist=R,r.sqrLen=T,r.forEach=function(){var t=e();return function(r,n,a,e,o,u){var i=void 0,s=void 0;for(n||(n=2),a||(a=0),s=e?Math.min(e*n+a,r.length):r.length,i=a;i<s;i+=n)t[0]=r[i],t[1]=r[i+1],o(t,t,u),r[i]=t[0],r[i+1]=t[1];return r}}()},function(t,r,n){t.exports=n(26)}]);